"use strict";

$(function () {
  var _this = this;

  // ALL VARIABLES
  var year = $("#year");
  var video = $("#video");
  var playVideo = $("#play-video");
  var coverVideo = $("#cover-video");
  var iconVideo = $("#icon-video");
  var cVwrapper = $("#control-video-wrapper");
  var closeBanar = $("#close-banar");
  var links = $("#links a");
  var navbar = $("#navbar");
  var header = $("#header");
  var heightNavbar = navbar.outerHeight();
  var heightHeader = header.outerHeight();
  var logoL = $("#logo-l img");
  var scrollToTop = $("#scroll-to-top");
  var closeSidebar = $("#close-sidebar");
  var closeSidebarShopCart = $("#close-sidebar-shop-cart");
  var sidebarNav = $("#sidebar-nav");
  var toggler = $("#toggler");
  var backDrop = $(".back-drop");
  var shoppingCart = $("#shopping-cart");
  var iconCart = $("#icon-cart");
  var deleteItemShopping = $(".delete-item");
  var cartEmpty = $("#cart-empty");
  var cartAction = $("#cart-actions");

  //
  $(window).scrollTop(0);

  /////////////////////////////////
  //// CLICK
  // VIDEO - PLAY AND PAUSE
  playVideo.on("click", function () {
    var getAttrIconVideo = iconVideo.attr("xlink:href");
    var srcIcon = getAttrIconVideo.split("#")[0];
    //
    coverVideo.toggleClass("opacity-0");
    cVwrapper.toggleClass("control-hover");

    //
    if (!$(this).hasClass("play")) {
      $(this).addClass("play");
      iconVideo.attr("xlink:href", srcIcon + "#icon-pause");
      video[0].play();
      return;
    }

    //
    $(this).removeClass("play");
    iconVideo.attr("xlink:href", srcIcon + "#icon-play-video");
    video[0].pause();
  });

  // CHANGE ACTIVE CLASS ON LINKS
  links.on("click", function () {
    $(this).addClass("text-como").siblings().removeClass("text-como");
    closeSidebarNav();
  });

  // CLOSE BANAR
  closeBanar.on("click", function () {
    $(this).parent().slideUp();
  });
  // SCROLL TO TOP SMOOTHLY
  scrollToTop.on("click", function () {
    window.scrollTo({
      top: 0,
      left: 0,
      behavior: "smooth"
    });
  });

  /////////////////////////////////
  //// FUNCTIONS
  var _fixedNavbar = function _fixedNavbar() {
    if (!navbar.hasClass("specific")) {
      if ($(_this).scrollTop() > heightNavbar) {
        navbar.removeClass("sm:absolute sm:bg-transparent");
        navbar.addClass("fixed sm:bg-plantation");
        logoL.css("max-height", "50px");
        return;
      }

      navbar.addClass("sm:absolute sm:bg-transparent");
      navbar.removeClass("fixed sm:bg-plantation");
      logoL.css("max-height", "100px");
    }
  };

  var showBtnScrollToTop = function showBtnScrollToTop() {
    if ($(_this).scrollTop() > heightHeader) {
      scrollToTop.addClass("-translate-y-10");
      scrollToTop.removeClass("translate-y-48");
      return;
    }

    scrollToTop.addClass("translate-y-48");
    scrollToTop.removeClass("-translate-y-10");
  };

  // SCROLL WILL TRIGGER ONE MORE THAN FUNCTION
  $(window).on("scroll", function () {
    //
    _fixedNavbar();
    //
    showBtnScrollToTop();
  });

  // SLIDER
  $(".owl-carousel").owlCarousel({
    items: 1,
    animateOut: "fadeOut",
    autoplay: true,
    autoplayTimeout: 3000,
    autoplayHoverPause: true,
    loop: true
  });

  function openSidebarNav() {
    sidebarNav.toggleClass("translate-x-0 -translate-x-full");
    backDrop.toggleClass("block hidden");
    $("body, html").css("overflow-y", "hidden");
  }

  function closeSidebarNav() {
    sidebarNav.addClass("translate-x-0 -translate-x-full");
    backDrop.toggleClass("block hidden");
    $("body, html").css("overflow-y", "visible");
  }

  if ($(document).outerWidth() <= 640) {
    toggler.on("click", function () {
      return openSidebarNav();
    });
    closeSidebar.on("click", function () {
      return closeSidebarNav();
    });
  }

  /////////////////////////////////
  //// SHOPPING CART
  // TOGGLE SHOPPING CART
  iconCart.on("click", function (e) {
    e.stopPropagation();
    if ($(document).outerWidth() > 640) {
      return shoppingCart.slideToggle(200);
    }
    shoppingCart.toggleClass("-translate-x-full sm:hidden");
    backDrop.toggleClass("block hidden");
    $("body, html").css("overflow-y", "hidden");
  });

  // CLOSE SIDEBAR SHOP cart
  closeSidebarShopCart.on("click", function (e) {
    e.stopPropagation();
    shoppingCart.toggleClass("-translate-x-full");
    backDrop.toggleClass("block hidden");
    $("body, html").css("overflow-y", "visible");
  });

  // IF CLICKED ON SHOPPING CART WILL CLOSED
  shoppingCart.on("click", function (e) {
    if ($(document).outerWidth() <= 640) {
      closeSidebarShopCart.trigger("click");
    }
  });

  // DELETE ITEM FROM SHOPPING CART
  deleteItemShopping.on("click", function (e) {
    e.stopPropagation();
    //
    var cartWrapper = $("#cart-wrapper > div").length;

    // 1) - REMOVE ITEM FROM CART
    $(this).parent().remove();

    // 2) - CHECK IF THIS ELEMENT EQIAL 1 WILL ADD MESSAGE EMPTY
    if (cartWrapper === 1) {
      cartEmpty.toggleClass("hidden flex");
      cartAction.toggleClass("hidden");
    }
  });

  // GLOBAL - IF CLICKED ON WINDOW
  $(window).on("click", function () {
    if ($(document).outerWidth() > 640) {
      shoppingCart.slideUp(200);
    }
  });

  // ADD YAER
  year.text(new Date().getFullYear());
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiJCIsInllYXIiLCJ2aWRlbyIsInBsYXlWaWRlbyIsImNvdmVyVmlkZW8iLCJpY29uVmlkZW8iLCJjVndyYXBwZXIiLCJjbG9zZUJhbmFyIiwibGlua3MiLCJuYXZiYXIiLCJoZWFkZXIiLCJoZWlnaHROYXZiYXIiLCJvdXRlckhlaWdodCIsImhlaWdodEhlYWRlciIsImxvZ29MIiwic2Nyb2xsVG9Ub3AiLCJjbG9zZVNpZGViYXIiLCJjbG9zZVNpZGViYXJTaG9wQ2FydCIsInNpZGViYXJOYXYiLCJ0b2dnbGVyIiwiYmFja0Ryb3AiLCJzaG9wcGluZ0NhcnQiLCJpY29uQ2FydCIsImRlbGV0ZUl0ZW1TaG9wcGluZyIsImNhcnRFbXB0eSIsImNhcnRBY3Rpb24iLCJ3aW5kb3ciLCJzY3JvbGxUb3AiLCJvbiIsImdldEF0dHJJY29uVmlkZW8iLCJhdHRyIiwic3JjSWNvbiIsInNwbGl0IiwidG9nZ2xlQ2xhc3MiLCJoYXNDbGFzcyIsImFkZENsYXNzIiwicGxheSIsInJlbW92ZUNsYXNzIiwicGF1c2UiLCJzaWJsaW5ncyIsImNsb3NlU2lkZWJhck5hdiIsInBhcmVudCIsInNsaWRlVXAiLCJzY3JvbGxUbyIsInRvcCIsImxlZnQiLCJiZWhhdmlvciIsIl9maXhlZE5hdmJhciIsImNzcyIsInNob3dCdG5TY3JvbGxUb1RvcCIsIm93bENhcm91c2VsIiwiaXRlbXMiLCJhbmltYXRlT3V0IiwiYXV0b3BsYXkiLCJhdXRvcGxheVRpbWVvdXQiLCJhdXRvcGxheUhvdmVyUGF1c2UiLCJsb29wIiwib3BlblNpZGViYXJOYXYiLCJkb2N1bWVudCIsIm91dGVyV2lkdGgiLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwic2xpZGVUb2dnbGUiLCJ0cmlnZ2VyIiwiY2FydFdyYXBwZXIiLCJsZW5ndGgiLCJyZW1vdmUiLCJ0ZXh0IiwiRGF0ZSIsImdldEZ1bGxZZWFyIl0sIm1hcHBpbmdzIjoiOztBQUFBQSxFQUFFLFlBQVk7QUFBQTs7QUFD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QixjQUFyQjtBQUNBakMsTUFBRSxZQUFGLEVBQWdCZ0QsR0FBaEIsQ0FBb0IsWUFBcEIsRUFBa0MsU0FBbEM7QUFDRCxHQUxEOztBQU9BO0FBQ0EzQixlQUFhTyxFQUFiLENBQWdCLE9BQWhCLEVBQXlCLFVBQUNnQyxDQUFELEVBQU87QUFDOUIsUUFBSTVELEVBQUUwRCxRQUFGLEVBQVlDLFVBQVosTUFBNEIsR0FBaEMsRUFBcUM7QUFDbkMxQywyQkFBcUI4QyxPQUFyQixDQUE2QixPQUE3QjtBQUNEO0FBQ0YsR0FKRDs7QUFNQTtBQUNBeEMscUJBQW1CSyxFQUFuQixDQUFzQixPQUF0QixFQUErQixVQUFVZ0MsQ0FBVixFQUFhO0FBQzFDQSxNQUFFQyxlQUFGO0FBQ0E7QUFDQSxRQUFJRyxjQUFjaEUsRUFBRSxxQkFBRixFQUF5QmlFLE1BQTNDOztBQUVBO0FBQ0FqRSxNQUFFLElBQUYsRUFBUXlDLE1BQVIsR0FBaUJ5QixNQUFqQjs7QUFFQTtBQUNBLFFBQUlGLGdCQUFnQixDQUFwQixFQUF1QjtBQUNyQnhDLGdCQUFVUyxXQUFWLENBQXNCLGFBQXRCO0FBQ0FSLGlCQUFXUSxXQUFYLENBQXVCLFFBQXZCO0FBQ0Q7QUFDRixHQWJEOztBQWVBO0FBQ0FqQyxJQUFFMEIsTUFBRixFQUFVRSxFQUFWLENBQWEsT0FBYixFQUFzQixZQUFNO0FBQzFCLFFBQUk1QixFQUFFMEQsUUFBRixFQUFZQyxVQUFaLEtBQTJCLEdBQS9CLEVBQW9DO0FBQ2xDdEMsbUJBQWFxQixPQUFiLENBQXFCLEdBQXJCO0FBQ0Q7QUFDRixHQUpEOztBQU1BO0FBQ0F6QyxPQUFLa0UsSUFBTCxDQUFVLElBQUlDLElBQUosR0FBV0MsV0FBWCxFQUFWO0FBQ0QsQ0E3TEQiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZnVuY3Rpb24gKCkge1xuICAvLyBBTEwgVkFSSUFCTEVTXG4gIGNvbnN0IHllYXIgPSAkKFwiI3llYXJcIik7XG4gIGNvbnN0IHZpZGVvID0gJChcIiN2aWRlb1wiKTtcbiAgY29uc3QgcGxheVZpZGVvID0gJChcIiNwbGF5LXZpZGVvXCIpO1xuICBjb25zdCBjb3ZlclZpZGVvID0gJChcIiNjb3Zlci12aWRlb1wiKTtcbiAgY29uc3QgaWNvblZpZGVvID0gJChcIiNpY29uLXZpZGVvXCIpO1xuICBjb25zdCBjVndyYXBwZXIgPSAkKFwiI2NvbnRyb2wtdmlkZW8td3JhcHBlclwiKTtcbiAgY29uc3QgY2xvc2VCYW5hciA9ICQoXCIjY2xvc2UtYmFuYXJcIik7XG4gIGNvbnN0IGxpbmtzID0gJChcIiNsaW5rcyBhXCIpO1xuICBjb25zdCBuYXZiYXIgPSAkKFwiI25hdmJhclwiKTtcbiAgY29uc3QgaGVhZGVyID0gJChcIiNoZWFkZXJcIik7XG4gIGNvbnN0IGhlaWdodE5hdmJhciA9IG5hdmJhci5vdXRlckhlaWdodCgpO1xuICBjb25zdCBoZWlnaHRIZWFkZXIgPSBoZWFkZXIub3V0ZXJIZWlnaHQoKTtcbiAgY29uc3QgbG9nb0wgPSAkKFwiI2xvZ28tbCBpbWdcIik7XG4gIGNvbnN0IHNjcm9sbFRvVG9wID0gJChcIiNzY3JvbGwtdG8tdG9wXCIpO1xuICBjb25zdCBjbG9zZVNpZGViYXIgPSAkKFwiI2Nsb3NlLXNpZGViYXJcIik7XG4gIGNvbnN0IGNsb3NlU2lkZWJhclNob3BDYXJ0ID0gJChcIiNjbG9zZS1zaWRlYmFyLXNob3AtY2FydFwiKTtcbiAgY29uc3Qgc2lkZWJhck5hdiA9ICQoXCIjc2lkZWJhci1uYXZcIik7XG4gIGNvbnN0IHRvZ2dsZXIgPSAkKFwiI3RvZ2dsZXJcIik7XG4gIGNvbnN0IGJhY2tEcm9wID0gJChcIi5iYWNrLWRyb3BcIik7XG4gIGNvbnN0IHNob3BwaW5nQ2FydCA9ICQoXCIjc2hvcHBpbmctY2FydFwiKTtcbiAgY29uc3QgaWNvbkNhcnQgPSAkKFwiI2ljb24tY2FydFwiKTtcbiAgY29uc3QgZGVsZXRlSXRlbVNob3BwaW5nID0gJChcIi5kZWxldGUtaXRlbVwiKTtcbiAgY29uc3QgY2FydEVtcHR5ID0gJChcIiNjYXJ0LWVtcHR5XCIpO1xuICBjb25zdCBjYXJ0QWN0aW9uID0gJChcIiNjYXJ0LWFjdGlvbnNcIik7XG5cbiAgLy9cbiAgJCh3aW5kb3cpLnNjcm9sbFRvcCgwKTtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8vLyBDTElDS1xuICAvLyBWSURFTyAtIFBMQVkgQU5EIFBBVVNFXG4gIHBsYXlWaWRlby5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBnZXRBdHRySWNvblZpZGVvID0gaWNvblZpZGVvLmF0dHIoXCJ4bGluazpocmVmXCIpO1xuICAgIGNvbnN0IHNyY0ljb24gPSBnZXRBdHRySWNvblZpZGVvLnNwbGl0KFwiI1wiKVswXTtcbiAgICAvL1xuICAgIGNvdmVyVmlkZW8udG9nZ2xlQ2xhc3MoXCJvcGFjaXR5LTBcIik7XG4gICAgY1Z3cmFwcGVyLnRvZ2dsZUNsYXNzKFwiY29udHJvbC1ob3ZlclwiKTtcblxuICAgIC8vXG4gICAgaWYgKCEkKHRoaXMpLmhhc0NsYXNzKFwicGxheVwiKSkge1xuICAgICAgJCh0aGlzKS5hZGRDbGFzcyhcInBsYXlcIik7XG4gICAgICBpY29uVmlkZW8uYXR0cihcInhsaW5rOmhyZWZcIiwgYCR7c3JjSWNvbn0jaWNvbi1wYXVzZWApO1xuICAgICAgdmlkZW9bMF0ucGxheSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vXG4gICAgJCh0aGlzKS5yZW1vdmVDbGFzcyhcInBsYXlcIik7XG4gICAgaWNvblZpZGVvLmF0dHIoXCJ4bGluazpocmVmXCIsIGAke3NyY0ljb259I2ljb24tcGxheS12aWRlb2ApO1xuICAgIHZpZGVvWzBdLnBhdXNlKCk7XG4gIH0pO1xuXG4gIC8vIENIQU5HRSBBQ1RJVkUgQ0xBU1MgT04gTElOS1NcbiAgbGlua3Mub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgJCh0aGlzKS5hZGRDbGFzcyhcInRleHQtY29tb1wiKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKFwidGV4dC1jb21vXCIpO1xuICAgIGNsb3NlU2lkZWJhck5hdigpO1xuICB9KTtcblxuICAvLyBDTE9TRSBCQU5BUlxuICBjbG9zZUJhbmFyLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICQodGhpcykucGFyZW50KCkuc2xpZGVVcCgpO1xuICB9KTtcbiAgLy8gU0NST0xMIFRPIFRPUCBTTU9PVEhMWVxuICBzY3JvbGxUb1RvcC5vbihcImNsaWNrXCIsICgpID0+IHtcbiAgICB3aW5kb3cuc2Nyb2xsVG8oe1xuICAgICAgdG9wOiAwLFxuICAgICAgbGVmdDogMCxcbiAgICAgIGJlaGF2aW9yOiBcInNtb290aFwiLFxuICAgIH0pO1xuICB9KTtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8vLyBGVU5DVElPTlNcbiAgY29uc3QgX2ZpeGVkTmF2YmFyID0gKCkgPT4ge1xuICAgIGlmICghbmF2YmFyLmhhc0NsYXNzKFwic3BlY2lmaWNcIikpIHtcbiAgICAgIGlmICgkKHRoaXMpLnNjcm9sbFRvcCgpID4gaGVpZ2h0TmF2YmFyKSB7XG4gICAgICAgIG5hdmJhci5yZW1vdmVDbGFzcyhcInNtOmFic29sdXRlIHNtOmJnLXRyYW5zcGFyZW50XCIpO1xuICAgICAgICBuYXZiYXIuYWRkQ2xhc3MoXCJmaXhlZCBzbTpiZy1wbGFudGF0aW9uXCIpO1xuICAgICAgICBsb2dvTC5jc3MoXCJtYXgtaGVpZ2h0XCIsIFwiNTBweFwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBuYXZiYXIuYWRkQ2xhc3MoXCJzbTphYnNvbHV0ZSBzbTpiZy10cmFuc3BhcmVudFwiKTtcbiAgICAgIG5hdmJhci5yZW1vdmVDbGFzcyhcImZpeGVkIHNtOmJnLXBsYW50YXRpb25cIik7XG4gICAgICBsb2dvTC5jc3MoXCJtYXgtaGVpZ2h0XCIsIFwiMTAwcHhcIik7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHNob3dCdG5TY3JvbGxUb1RvcCA9ICgpID0+IHtcbiAgICBpZiAoJCh0aGlzKS5zY3JvbGxUb3AoKSA+IGhlaWdodEhlYWRlcikge1xuICAgICAgc2Nyb2xsVG9Ub3AuYWRkQ2xhc3MoXCItdHJhbnNsYXRlLXktMTBcIik7XG4gICAgICBzY3JvbGxUb1RvcC5yZW1vdmVDbGFzcyhcInRyYW5zbGF0ZS15LTQ4XCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNjcm9sbFRvVG9wLmFkZENsYXNzKFwidHJhbnNsYXRlLXktNDhcIik7XG4gICAgc2Nyb2xsVG9Ub3AucmVtb3ZlQ2xhc3MoXCItdHJhbnNsYXRlLXktMTBcIik7XG4gIH07XG5cbiAgLy8gU0NST0xMIFdJTEwgVFJJR0dFUiBPTkUgTU9SRSBUSEFOIEZVTkNUSU9OXG4gICQod2luZG93KS5vbihcInNjcm9sbFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgLy9cbiAgICBfZml4ZWROYXZiYXIoKTtcbiAgICAvL1xuICAgIHNob3dCdG5TY3JvbGxUb1RvcCgpO1xuICB9KTtcblxuICAvLyBTTElERVJcbiAgJChcIi5vd2wtY2Fyb3VzZWxcIikub3dsQ2Fyb3VzZWwoe1xuICAgIGl0ZW1zOiAxLFxuICAgIGFuaW1hdGVPdXQ6IFwiZmFkZU91dFwiLFxuICAgIGF1dG9wbGF5OiB0cnVlLFxuICAgIGF1dG9wbGF5VGltZW91dDogMzAwMCxcbiAgICBhdXRvcGxheUhvdmVyUGF1c2U6IHRydWUsXG4gICAgbG9vcDogdHJ1ZSxcbiAgfSk7XG5cbiAgZnVuY3Rpb24gb3BlblNpZGViYXJOYXYoKSB7XG4gICAgc2lkZWJhck5hdi50b2dnbGVDbGFzcyhcInRyYW5zbGF0ZS14LTAgLXRyYW5zbGF0ZS14LWZ1bGxcIik7XG4gICAgYmFja0Ryb3AudG9nZ2xlQ2xhc3MoXCJibG9jayBoaWRkZW5cIik7XG4gICAgJChcImJvZHksIGh0bWxcIikuY3NzKFwib3ZlcmZsb3cteVwiLCBcImhpZGRlblwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsb3NlU2lkZWJhck5hdigpIHtcbiAgICBzaWRlYmFyTmF2LmFkZENsYXNzKFwidHJhbnNsYXRlLXgtMCAtdHJhbnNsYXRlLXgtZnVsbFwiKTtcbiAgICBiYWNrRHJvcC50b2dnbGVDbGFzcyhcImJsb2NrIGhpZGRlblwiKTtcbiAgICAkKFwiYm9keSwgaHRtbFwiKS5jc3MoXCJvdmVyZmxvdy15XCIsIFwidmlzaWJsZVwiKTtcbiAgfVxuXG4gIGlmICgkKGRvY3VtZW50KS5vdXRlcldpZHRoKCkgPD0gNjQwKSB7XG4gICAgdG9nZ2xlci5vbihcImNsaWNrXCIsICgpID0+IG9wZW5TaWRlYmFyTmF2KCkpO1xuICAgIGNsb3NlU2lkZWJhci5vbihcImNsaWNrXCIsICgpID0+IGNsb3NlU2lkZWJhck5hdigpKTtcbiAgfVxuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLy8vIFNIT1BQSU5HIENBUlRcbiAgLy8gVE9HR0xFIFNIT1BQSU5HIENBUlRcbiAgaWNvbkNhcnQub24oXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgaWYgKCQoZG9jdW1lbnQpLm91dGVyV2lkdGgoKSA+IDY0MCkge1xuICAgICAgcmV0dXJuIHNob3BwaW5nQ2FydC5zbGlkZVRvZ2dsZSgyMDApO1xuICAgIH1cbiAgICBzaG9wcGluZ0NhcnQudG9nZ2xlQ2xhc3MoXCItdHJhbnNsYXRlLXgtZnVsbCBzbTpoaWRkZW5cIik7XG4gICAgYmFja0Ryb3AudG9nZ2xlQ2xhc3MoXCJibG9jayBoaWRkZW5cIik7XG4gICAgJChcImJvZHksIGh0bWxcIikuY3NzKFwib3ZlcmZsb3cteVwiLCBcImhpZGRlblwiKTtcbiAgfSk7XG5cbiAgLy8gQ0xPU0UgU0lERUJBUiBTSE9QIGNhcnRcbiAgY2xvc2VTaWRlYmFyU2hvcENhcnQub24oXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgc2hvcHBpbmdDYXJ0LnRvZ2dsZUNsYXNzKFwiLXRyYW5zbGF0ZS14LWZ1bGxcIik7XG4gICAgYmFja0Ryb3AudG9nZ2xlQ2xhc3MoXCJibG9jayBoaWRkZW5cIik7XG4gICAgJChcImJvZHksIGh0bWxcIikuY3NzKFwib3ZlcmZsb3cteVwiLCBcInZpc2libGVcIik7XG4gIH0pO1xuXG4gIC8vIElGIENMSUNLRUQgT04gU0hPUFBJTkcgQ0FSVCBXSUxMIENMT1NFRFxuICBzaG9wcGluZ0NhcnQub24oXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgIGlmICgkKGRvY3VtZW50KS5vdXRlcldpZHRoKCkgPD0gNjQwKSB7XG4gICAgICBjbG9zZVNpZGViYXJTaG9wQ2FydC50cmlnZ2VyKFwiY2xpY2tcIik7XG4gICAgfVxuICB9KTtcblxuICAvLyBERUxFVEUgSVRFTSBGUk9NIFNIT1BQSU5HIENBUlRcbiAgZGVsZXRlSXRlbVNob3BwaW5nLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIC8vXG4gICAgbGV0IGNhcnRXcmFwcGVyID0gJChcIiNjYXJ0LXdyYXBwZXIgPiBkaXZcIikubGVuZ3RoO1xuXG4gICAgLy8gMSkgLSBSRU1PVkUgSVRFTSBGUk9NIENBUlRcbiAgICAkKHRoaXMpLnBhcmVudCgpLnJlbW92ZSgpO1xuXG4gICAgLy8gMikgLSBDSEVDSyBJRiBUSElTIEVMRU1FTlQgRVFJQUwgMSBXSUxMIEFERCBNRVNTQUdFIEVNUFRZXG4gICAgaWYgKGNhcnRXcmFwcGVyID09PSAxKSB7XG4gICAgICBjYXJ0RW1wdHkudG9nZ2xlQ2xhc3MoXCJoaWRkZW4gZmxleFwiKTtcbiAgICAgIGNhcnRBY3Rpb24udG9nZ2xlQ2xhc3MoXCJoaWRkZW5cIik7XG4gICAgfVxuICB9KTtcblxuICAvLyBHTE9CQUwgLSBJRiBDTElDS0VEIE9OIFdJTkRPV1xuICAkKHdpbmRvdykub24oXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgaWYgKCQoZG9jdW1lbnQpLm91dGVyV2lkdGgoKSA+IDY0MCkge1xuICAgICAgc2hvcHBpbmdDYXJ0LnNsaWRlVXAoMjAwKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIEFERCBZQUVSXG4gIHllYXIudGV4dChuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCkpO1xufSk7XG4iXX0=
