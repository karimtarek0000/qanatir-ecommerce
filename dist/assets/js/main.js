"use strict";

$(function () {
  var _this = this;

  // ALL VARIABLES
  var year = $("#year");
  var video = $("#video");
  var playVideo = $("#play-video");
  var coverVideo = $("#cover-video");
  var iconVideo = $("#icon-video");
  var cVwrapper = $("#control-video-wrapper");
  var closeBanar = $("#close-banar");
  var links = $("#links a");
  var navbar = $("#navbar");
  var header = $("#header");
  var heightNavbar = navbar.outerHeight();
  var heightHeader = header.outerHeight();
  var logoL = $("#logo-l img");
  var scrollToTop = $("#scroll-to-top");
  var closeSidebar = $("#close-sidebar");
  var closeSidebarShopCart = $("#close-sidebar-shop-cart");
  var sidebarNav = $("#sidebar-nav");
  var toggler = $("#toggler");
  var backDrop = $(".back-drop");
  var shoppingCart = $("#shopping-cart");
  var iconCart = $("#icon-cart");
  var deleteItemShopping = $(".delete-item");
  var cartEmpty = $("#cart-empty");
  var cartAction = $("#cart-actions");
  var closeModalProduct = $("#close-modal-product");
  var viewModalProduct = $("#view-modal-product");
  var modalProduct = $("#modal-product");
  var openModalProduct = $(".open-modal-product");

  //
  $(window).scrollTop(0);

  /////////////////////////////////
  //// CLICK
  // VIDEO - PLAY AND PAUSE
  playVideo.on("click", function () {
    var getAttrIconVideo = iconVideo.attr("xlink:href");
    var srcIcon = getAttrIconVideo.split("#")[0];
    //
    coverVideo.toggleClass("opacity-0");
    cVwrapper.toggleClass("control-hover");

    //
    if (!$(this).hasClass("play")) {
      $(this).addClass("play");
      iconVideo.attr("xlink:href", srcIcon + "#icon-pause");
      video[0].play();
      return;
    }

    //
    $(this).removeClass("play");
    iconVideo.attr("xlink:href", srcIcon + "#icon-play-video");
    video[0].pause();
  });

  // CHANGE ACTIVE CLASS ON LINKS
  links.on("click", function () {
    $(this).addClass("text-como").siblings().removeClass("text-como");
    closeSidebarNav();
  });

  // CLOSE BANAR
  closeBanar.on("click", function () {
    $(this).parent().slideUp();
  });
  // SCROLL TO TOP SMOOTHLY
  scrollToTop.on("click", function () {
    window.scrollTo({
      top: 0,
      left: 0,
      behavior: "smooth"
    });
  });

  /////////////////////////////////
  //// FUNCTIONS
  var _fixedNavbar = function _fixedNavbar() {
    if (!navbar.hasClass("specific")) {
      if ($(_this).scrollTop() > heightNavbar) {
        navbar.removeClass("sm:absolute sm:bg-transparent");
        navbar.addClass("fixed sm:bg-plantation");
        logoL.css("max-height", "50px");
        return;
      }

      navbar.addClass("sm:absolute sm:bg-transparent");
      navbar.removeClass("fixed sm:bg-plantation");
      logoL.css("max-height", "100px");
    }
  };

  var showBtnScrollToTop = function showBtnScrollToTop() {
    if ($(_this).scrollTop() > heightHeader) {
      scrollToTop.addClass("-translate-y-10");
      scrollToTop.removeClass("translate-y-48");
      return;
    }

    scrollToTop.addClass("translate-y-48");
    scrollToTop.removeClass("-translate-y-10");
  };

  // SCROLL WILL TRIGGER ONE MORE THAN FUNCTION
  $(window).on("scroll", function () {
    //
    _fixedNavbar();
    //
    showBtnScrollToTop();
  });

  // SLIDER
  $(".owl-carousel").owlCarousel({
    items: 1,
    animateOut: "fadeOut",
    autoplay: true,
    autoplayTimeout: 3000,
    autoplayHoverPause: true,
    loop: true
  });

  function openSidebarNav() {
    sidebarNav.toggleClass("translate-x-0 -translate-x-full");
    backDrop.toggleClass("block hidden");
    $("body, html").css("overflow-y", "hidden");
  }

  function closeSidebarNav() {
    sidebarNav.addClass("translate-x-0 -translate-x-full");
    backDrop.toggleClass("block hidden");
    $("body, html").css("overflow-y", "visible");
  }

  if ($(document).outerWidth() <= 640) {
    toggler.on("click", function () {
      return openSidebarNav();
    });
    closeSidebar.on("click", function () {
      return closeSidebarNav();
    });
  }

  /////////////////////////////////
  //// SHOPPING CART
  // TOGGLE SHOPPING CART
  iconCart.on("click", function (e) {
    e.stopPropagation();
    if ($(document).outerWidth() > 640) {
      return shoppingCart.slideToggle(200);
    }
    shoppingCart.toggleClass("-translate-x-full sm:hidden");
    backDrop.toggleClass("block hidden");
    $("body, html").css("overflow-y", "hidden");
  });

  // CLOSE SIDEBAR SHOP cart
  closeSidebarShopCart.on("click", function (e) {
    e.stopPropagation();
    shoppingCart.toggleClass("-translate-x-full");
    backDrop.toggleClass("block hidden");
    $("body, html").css("overflow-y", "visible");
  });

  // IF CLICKED ON SHOPPING CART WILL CLOSED
  shoppingCart.on("click", function (e) {
    if ($(document).outerWidth() <= 640) {
      closeSidebarShopCart.trigger("click");
    }
  });

  // DELETE ITEM FROM SHOPPING CART
  deleteItemShopping.on("click", function (e) {
    e.stopPropagation();
    //
    var cartWrapper = $("#cart-wrapper > div").length;

    // 1) - REMOVE ITEM FROM CART
    $(this).parent().remove();

    // 2) - CHECK IF THIS ELEMENT EQIAL 1 WILL ADD MESSAGE EMPTY
    if (cartWrapper === 1) {
      cartEmpty.toggleClass("hidden flex");
      cartAction.toggleClass("hidden");
    }
  });

  /////////////////////////////////
  //// MODAL PRODUCT
  // OPEN MODAL
  openModalProduct.on("click", function () {
    viewModalProduct.toggleClass("flex hidden");
    $("body, html").css("overflow-y", "hidden");
    setTimeout(function () {
      return modalProduct.removeClass("-translate-y-20 opacity-0");
    }, 300);
  });
  // CLOSE MODAL
  closeModalProduct.on("click", function () {
    modalProduct.addClass("-translate-y-20 opacity-0");
    setTimeout(function () {
      return viewModalProduct.toggleClass("flex hidden");
    }, 300);
    $("body, html").css("overflow-y", "visible");
  });

  /////////////////////////////////
  //// GLOBAL
  $(document).on("keydown", function (e) {
    if (e.key === "Escape") {
      closeModalProduct.trigger("click");
    }
  });
  // IF CLICKED ON WINDOW
  $(window).on("click", function () {
    if ($(document).outerWidth() > 640) {
      shoppingCart.slideUp(200);
    }
  });

  // ADD YAER
  year.text(new Date().getFullYear());
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiJCIsInllYXIiLCJ2aWRlbyIsInBsYXlWaWRlbyIsImNvdmVyVmlkZW8iLCJpY29uVmlkZW8iLCJjVndyYXBwZXIiLCJjbG9zZUJhbmFyIiwibGlua3MiLCJuYXZiYXIiLCJoZWFkZXIiLCJoZWlnaHROYXZiYXIiLCJvdXRlckhlaWdodCIsImhlaWdodEhlYWRlciIsImxvZ29MIiwic2Nyb2xsVG9Ub3AiLCJjbG9zZVNpZGViYXIiLCJjbG9zZVNpZGViYXJTaG9wQ2FydCIsInNpZGViYXJOYXYiLCJ0b2dnbGVyIiwiYmFja0Ryb3AiLCJzaG9wcGluZ0NhcnQiLCJpY29uQ2FydCIsImRlbGV0ZUl0ZW1TaG9wcGluZyIsImNhcnRFbXB0eSIsImNhcnRBY3Rpb24iLCJjbG9zZU1vZGFsUHJvZHVjdCIsInZpZXdNb2RhbFByb2R1Y3QiLCJtb2RhbFByb2R1Y3QiLCJvcGVuTW9kYWxQcm9kdWN0Iiwid2luZG93Iiwic2Nyb2xsVG9wIiwib24iLCJnZXRBdHRySWNvblZpZGVvIiwiYXR0ciIsInNyY0ljb24iLCJzcGxpdCIsInRvZ2dsZUNsYXNzIiwiaGFzQ2xhc3MiLCJhZGRDbGFzcyIsInBsYXkiLCJyZW1vdmVDbGFzcyIsInBhdXNlIiwic2libGluZ3MiLCJjbG9zZVNpZGViYXJOYXYiLCJwYXJlbnQiLCJzbGlkZVVwIiwic2Nyb2xsVG8iLCJ0b3AiLCJsZWZ0IiwiYmVoYXZpb3IiLCJfZml4ZWROYXZiYXIiLCJjc3MiLCJzaG93QnRuU2Nyb2xsVG9Ub3AiLCJvd2xDYXJvdXNlbCIsIml0ZW1zIiwiYW5pbWF0ZU91dCIsImF1dG9wbGF5IiwiYXV0b3BsYXlUaW1lb3V0IiwiYXV0b3BsYXlIb3ZlclBhdXNlIiwibG9vcCIsIm9wZW5TaWRlYmFyTmF2IiwiZG9jdW1lbnQiLCJvdXRlcldpZHRoIiwiZSIsInN0b3BQcm9wYWdhdGlvbiIsInNsaWRlVG9nZ2xlIiwidHJpZ2dlciIsImNhcnRXcmFwcGVyIiwibGVuZ3RoIiwicmVt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QUFoQixDQUFvQixZQUFwQixFQUFrQyxRQUFsQztBQUNBbUIsZUFBVztBQUFBLGFBQU0zQyxhQUFhYSxXQUFiLENBQXlCLDJCQUF6QixDQUFOO0FBQUEsS0FBWCxFQUF3RSxHQUF4RTtBQUNELEdBSkQ7QUFLQTtBQUNBZixvQkFBa0JNLEVBQWxCLENBQXFCLE9BQXJCLEVBQThCLFlBQU07QUFDbENKLGlCQUFhVyxRQUFiLENBQXNCLDJCQUF0QjtBQUNBZ0MsZUFBVztBQUFBLGFBQU01QyxpQkFBaUJVLFdBQWpCLENBQTZCLGFBQTdCLENBQU47QUFBQSxLQUFYLEVBQThELEdBQTlEO0FBQ0FyQyxNQUFFLFlBQUYsRUFBZ0JvRCxHQUFoQixDQUFvQixZQUFwQixFQUFrQyxTQUFsQztBQUNELEdBSkQ7O0FBTUE7QUFDQTtBQUNBcEQsSUFBRThELFFBQUYsRUFBWTlCLEVBQVosQ0FBZSxTQUFmLEVBQTBCLFVBQUNnQyxDQUFELEVBQU87QUFDL0IsUUFBSUEsRUFBRVEsR0FBRixLQUFVLFFBQWQsRUFBd0I7QUFDdEI5Qyx3QkFBa0J5QyxPQUFsQixDQUEwQixPQUExQjtBQUNEO0FBQ0YsR0FKRDtBQUtBO0FBQ0FuRSxJQUFFOEIsTUFBRixFQUFVRSxFQUFWLENBQWEsT0FBYixFQUFzQixZQUFNO0FBQzFCLFFBQUloQyxFQUFFOEQsUUFBRixFQUFZQyxVQUFaLEtBQTJCLEdBQS9CLEVBQW9DO0FBQ2xDMUMsbUJBQWF5QixPQUFiLENBQXFCLEdBQXJCO0FBQ0Q7QUFDRixHQUpEOztBQU1BO0FBQ0E3QyxPQUFLd0UsSUFBTCxDQUFVLElBQUlDLElBQUosR0FBV0MsV0FBWCxFQUFWO0FBQ0QsQ0F2TkQiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZnVuY3Rpb24gKCkge1xuICAvLyBBTEwgVkFSSUFCTEVTXG4gIGNvbnN0IHllYXIgPSAkKFwiI3llYXJcIik7XG4gIGNvbnN0IHZpZGVvID0gJChcIiN2aWRlb1wiKTtcbiAgY29uc3QgcGxheVZpZGVvID0gJChcIiNwbGF5LXZpZGVvXCIpO1xuICBjb25zdCBjb3ZlclZpZGVvID0gJChcIiNjb3Zlci12aWRlb1wiKTtcbiAgY29uc3QgaWNvblZpZGVvID0gJChcIiNpY29uLXZpZGVvXCIpO1xuICBjb25zdCBjVndyYXBwZXIgPSAkKFwiI2NvbnRyb2wtdmlkZW8td3JhcHBlclwiKTtcbiAgY29uc3QgY2xvc2VCYW5hciA9ICQoXCIjY2xvc2UtYmFuYXJcIik7XG4gIGNvbnN0IGxpbmtzID0gJChcIiNsaW5rcyBhXCIpO1xuICBjb25zdCBuYXZiYXIgPSAkKFwiI25hdmJhclwiKTtcbiAgY29uc3QgaGVhZGVyID0gJChcIiNoZWFkZXJcIik7XG4gIGNvbnN0IGhlaWdodE5hdmJhciA9IG5hdmJhci5vdXRlckhlaWdodCgpO1xuICBjb25zdCBoZWlnaHRIZWFkZXIgPSBoZWFkZXIub3V0ZXJIZWlnaHQoKTtcbiAgY29uc3QgbG9nb0wgPSAkKFwiI2xvZ28tbCBpbWdcIik7XG4gIGNvbnN0IHNjcm9sbFRvVG9wID0gJChcIiNzY3JvbGwtdG8tdG9wXCIpO1xuICBjb25zdCBjbG9zZVNpZGViYXIgPSAkKFwiI2Nsb3NlLXNpZGViYXJcIik7XG4gIGNvbnN0IGNsb3NlU2lkZWJhclNob3BDYXJ0ID0gJChcIiNjbG9zZS1zaWRlYmFyLXNob3AtY2FydFwiKTtcbiAgY29uc3Qgc2lkZWJhck5hdiA9ICQoXCIjc2lkZWJhci1uYXZcIik7XG4gIGNvbnN0IHRvZ2dsZXIgPSAkKFwiI3RvZ2dsZXJcIik7XG4gIGNvbnN0IGJhY2tEcm9wID0gJChcIi5iYWNrLWRyb3BcIik7XG4gIGNvbnN0IHNob3BwaW5nQ2FydCA9ICQoXCIjc2hvcHBpbmctY2FydFwiKTtcbiAgY29uc3QgaWNvbkNhcnQgPSAkKFwiI2ljb24tY2FydFwiKTtcbiAgY29uc3QgZGVsZXRlSXRlbVNob3BwaW5nID0gJChcIi5kZWxldGUtaXRlbVwiKTtcbiAgY29uc3QgY2FydEVtcHR5ID0gJChcIiNjYXJ0LWVtcHR5XCIpO1xuICBjb25zdCBjYXJ0QWN0aW9uID0gJChcIiNjYXJ0LWFjdGlvbnNcIik7XG4gIGNvbnN0IGNsb3NlTW9kYWxQcm9kdWN0ID0gJChcIiNjbG9zZS1tb2RhbC1wcm9kdWN0XCIpO1xuICBjb25zdCB2aWV3TW9kYWxQcm9kdWN0ID0gJChcIiN2aWV3LW1vZGFsLXByb2R1Y3RcIik7XG4gIGNvbnN0IG1vZGFsUHJvZHVjdCA9ICQoXCIjbW9kYWwtcHJvZHVjdFwiKTtcbiAgY29uc3Qgb3Blbk1vZGFsUHJvZHVjdCA9ICQoXCIub3Blbi1tb2RhbC1wcm9kdWN0XCIpO1xuXG4gIC8vXG4gICQod2luZG93KS5zY3JvbGxUb3AoMCk7XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vLy8gQ0xJQ0tcbiAgLy8gVklERU8gLSBQTEFZIEFORCBQQVVTRVxuICBwbGF5VmlkZW8ub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgZ2V0QXR0ckljb25WaWRlbyA9IGljb25WaWRlby5hdHRyKFwieGxpbms6aHJlZlwiKTtcbiAgICBjb25zdCBzcmNJY29uID0gZ2V0QXR0ckljb25WaWRlby5zcGxpdChcIiNcIilbMF07XG4gICAgLy9cbiAgICBjb3ZlclZpZGVvLnRvZ2dsZUNsYXNzKFwib3BhY2l0eS0wXCIpO1xuICAgIGNWd3JhcHBlci50b2dnbGVDbGFzcyhcImNvbnRyb2wtaG92ZXJcIik7XG5cbiAgICAvL1xuICAgIGlmICghJCh0aGlzKS5oYXNDbGFzcyhcInBsYXlcIikpIHtcbiAgICAgICQodGhpcykuYWRkQ2xhc3MoXCJwbGF5XCIpO1xuICAgICAgaWNvblZpZGVvLmF0dHIoXCJ4bGluazpocmVmXCIsIGAke3NyY0ljb259I2ljb24tcGF1c2VgKTtcbiAgICAgIHZpZGVvWzBdLnBsYXkoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvL1xuICAgICQodGhpcykucmVtb3ZlQ2xhc3MoXCJwbGF5XCIpO1xuICAgIGljb25WaWRlby5hdHRyKFwieGxpbms6aHJlZlwiLCBgJHtzcmNJY29ufSNpY29uLXBsYXktdmlkZW9gKTtcbiAgICB2aWRlb1swXS5wYXVzZSgpO1xuICB9KTtcblxuICAvLyBDSEFOR0UgQUNUSVZFIENMQVNTIE9OIExJTktTXG4gIGxpbmtzLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICQodGhpcykuYWRkQ2xhc3MoXCJ0ZXh0LWNvbW9cIikuc2libGluZ3MoKS5yZW1vdmVDbGFzcyhcInRleHQtY29tb1wiKTtcbiAgICBjbG9zZVNpZGViYXJOYXYoKTtcbiAgfSk7XG5cbiAgLy8gQ0xPU0UgQkFOQVJcbiAgY2xvc2VCYW5hci5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAkKHRoaXMpLnBhcmVudCgpLnNsaWRlVXAoKTtcbiAgfSk7XG4gIC8vIFNDUk9MTCBUTyBUT1AgU01PT1RITFlcbiAgc2Nyb2xsVG9Ub3Aub24oXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgd2luZG93LnNjcm9sbFRvKHtcbiAgICAgIHRvcDogMCxcbiAgICAgIGxlZnQ6IDAsXG4gICAgICBiZWhhdmlvcjogXCJzbW9vdGhcIixcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vLy8gRlVOQ1RJT05TXG4gIGNvbnN0IF9maXhlZE5hdmJhciA9ICgpID0+IHtcbiAgICBpZiAoIW5hdmJhci5oYXNDbGFzcyhcInNwZWNpZmljXCIpKSB7XG4gICAgICBpZiAoJCh0aGlzKS5zY3JvbGxUb3AoKSA+IGhlaWdodE5hdmJhcikge1xuICAgICAgICBuYXZiYXIucmVtb3ZlQ2xhc3MoXCJzbTphYnNvbHV0ZSBzbTpiZy10cmFuc3BhcmVudFwiKTtcbiAgICAgICAgbmF2YmFyLmFkZENsYXNzKFwiZml4ZWQgc206YmctcGxhbnRhdGlvblwiKTtcbiAgICAgICAgbG9nb0wuY3NzKFwibWF4LWhlaWdodFwiLCBcIjUwcHhcIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbmF2YmFyLmFkZENsYXNzKFwic206YWJzb2x1dGUgc206YmctdHJhbnNwYXJlbnRcIik7XG4gICAgICBuYXZiYXIucmVtb3ZlQ2xhc3MoXCJmaXhlZCBzbTpiZy1wbGFudGF0aW9uXCIpO1xuICAgICAgbG9nb0wuY3NzKFwibWF4LWhlaWdodFwiLCBcIjEwMHB4XCIpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBzaG93QnRuU2Nyb2xsVG9Ub3AgPSAoKSA9PiB7XG4gICAgaWYgKCQodGhpcykuc2Nyb2xsVG9wKCkgPiBoZWlnaHRIZWFkZXIpIHtcbiAgICAgIHNjcm9sbFRvVG9wLmFkZENsYXNzKFwiLXRyYW5zbGF0ZS15LTEwXCIpO1xuICAgICAgc2Nyb2xsVG9Ub3AucmVtb3ZlQ2xhc3MoXCJ0cmFuc2xhdGUteS00OFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzY3JvbGxUb1RvcC5hZGRDbGFzcyhcInRyYW5zbGF0ZS15LTQ4XCIpO1xuICAgIHNjcm9sbFRvVG9wLnJlbW92ZUNsYXNzKFwiLXRyYW5zbGF0ZS15LTEwXCIpO1xuICB9O1xuXG4gIC8vIFNDUk9MTCBXSUxMIFRSSUdHRVIgT05FIE1PUkUgVEhBTiBGVU5DVElPTlxuICAkKHdpbmRvdykub24oXCJzY3JvbGxcIiwgZnVuY3Rpb24gKCkge1xuICAgIC8vXG4gICAgX2ZpeGVkTmF2YmFyKCk7XG4gICAgLy9cbiAgICBzaG93QnRuU2Nyb2xsVG9Ub3AoKTtcbiAgfSk7XG5cbiAgLy8gU0xJREVSXG4gICQoXCIub3dsLWNhcm91c2VsXCIpLm93bENhcm91c2VsKHtcbiAgICBpdGVtczogMSxcbiAgICBhbmltYXRlT3V0OiBcImZhZGVPdXRcIixcbiAgICBhdXRvcGxheTogdHJ1ZSxcbiAgICBhdXRvcGxheVRpbWVvdXQ6IDMwMDAsXG4gICAgYXV0b3BsYXlIb3ZlclBhdXNlOiB0cnVlLFxuICAgIGxvb3A6IHRydWUsXG4gIH0pO1xuXG4gIGZ1bmN0aW9uIG9wZW5TaWRlYmFyTmF2KCkge1xuICAgIHNpZGViYXJOYXYudG9nZ2xlQ2xhc3MoXCJ0cmFuc2xhdGUteC0wIC10cmFuc2xhdGUteC1mdWxsXCIpO1xuICAgIGJhY2tEcm9wLnRvZ2dsZUNsYXNzKFwiYmxvY2sgaGlkZGVuXCIpO1xuICAgICQoXCJib2R5LCBodG1sXCIpLmNzcyhcIm92ZXJmbG93LXlcIiwgXCJoaWRkZW5cIik7XG4gIH1cblxuICBmdW5jdGlvbiBjbG9zZVNpZGViYXJOYXYoKSB7XG4gICAgc2lkZWJhck5hdi5hZGRDbGFzcyhcInRyYW5zbGF0ZS14LTAgLXRyYW5zbGF0ZS14LWZ1bGxcIik7XG4gICAgYmFja0Ryb3AudG9nZ2xlQ2xhc3MoXCJibG9jayBoaWRkZW5cIik7XG4gICAgJChcImJvZHksIGh0bWxcIikuY3NzKFwib3ZlcmZsb3cteVwiLCBcInZpc2libGVcIik7XG4gIH1cblxuICBpZiAoJChkb2N1bWVudCkub3V0ZXJXaWR0aCgpIDw9IDY0MCkge1xuICAgIHRvZ2dsZXIub24oXCJjbGlja1wiLCAoKSA9PiBvcGVuU2lkZWJhck5hdigpKTtcbiAgICBjbG9zZVNpZGViYXIub24oXCJjbGlja1wiLCAoKSA9PiBjbG9zZVNpZGViYXJOYXYoKSk7XG4gIH1cblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8vLyBTSE9QUElORyBDQVJUXG4gIC8vIFRPR0dMRSBTSE9QUElORyBDQVJUXG4gIGljb25DYXJ0Lm9uKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGlmICgkKGRvY3VtZW50KS5vdXRlcldpZHRoKCkgPiA2NDApIHtcbiAgICAgIHJldHVybiBzaG9wcGluZ0NhcnQuc2xpZGVUb2dnbGUoMjAwKTtcbiAgICB9XG4gICAgc2hvcHBpbmdDYXJ0LnRvZ2dsZUNsYXNzKFwiLXRyYW5zbGF0ZS14LWZ1bGwgc206aGlkZGVuXCIpO1xuICAgIGJhY2tEcm9wLnRvZ2dsZUNsYXNzKFwiYmxvY2sgaGlkZGVuXCIpO1xuICAgICQoXCJib2R5LCBodG1sXCIpLmNzcyhcIm92ZXJmbG93LXlcIiwgXCJoaWRkZW5cIik7XG4gIH0pO1xuXG4gIC8vIENMT1NFIFNJREVCQVIgU0hPUCBjYXJ0XG4gIGNsb3NlU2lkZWJhclNob3BDYXJ0Lm9uKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIHNob3BwaW5nQ2FydC50b2dnbGVDbGFzcyhcIi10cmFuc2xhdGUteC1mdWxsXCIpO1xuICAgIGJhY2tEcm9wLnRvZ2dsZUNsYXNzKFwiYmxvY2sgaGlkZGVuXCIpO1xuICAgICQoXCJib2R5LCBodG1sXCIpLmNzcyhcIm92ZXJmbG93LXlcIiwgXCJ2aXNpYmxlXCIpO1xuICB9KTtcblxuICAvLyBJRiBDTElDS0VEIE9OIFNIT1BQSU5HIENBUlQgV0lMTCBDTE9TRURcbiAgc2hvcHBpbmdDYXJ0Lm9uKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICBpZiAoJChkb2N1bWVudCkub3V0ZXJXaWR0aCgpIDw9IDY0MCkge1xuICAgICAgY2xvc2VTaWRlYmFyU2hvcENhcnQudHJpZ2dlcihcImNsaWNrXCIpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gREVMRVRFIElURU0gRlJPTSBTSE9QUElORyBDQVJUXG4gIGRlbGV0ZUl0ZW1TaG9wcGluZy5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAvL1xuICAgIGxldCBjYXJ0V3JhcHBlciA9ICQoXCIjY2FydC13cmFwcGVyID4gZGl2XCIpLmxlbmd0aDtcblxuICAgIC8vIDEpIC0gUkVNT1ZFIElURU0gRlJPTSBDQVJUXG4gICAgJCh0aGlzKS5wYXJlbnQoKS5yZW1vdmUoKTtcblxuICAgIC8vIDIpIC0gQ0hFQ0sgSUYgVEhJUyBFTEVNRU5UIEVRSUFMIDEgV0lMTCBBREQgTUVTU0FHRSBFTVBUWVxuICAgIGlmIChjYXJ0V3JhcHBlciA9PT0gMSkge1xuICAgICAgY2FydEVtcHR5LnRvZ2dsZUNsYXNzKFwiaGlkZGVuIGZsZXhcIik7XG4gICAgICBjYXJ0QWN0aW9uLnRvZ2dsZUNsYXNzKFwiaGlkZGVuXCIpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vLy8gTU9EQUwgUFJPRFVDVFxuICAvLyBPUEVOIE1PREFMXG4gIG9wZW5Nb2RhbFByb2R1Y3Qub24oXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgdmlld01vZGFsUHJvZHVjdC50b2dnbGVDbGFzcyhcImZsZXggaGlkZGVuXCIpO1xuICAgICQoXCJib2R5LCBodG1sXCIpLmNzcyhcIm92ZXJmbG93LXlcIiwgXCJoaWRkZW5cIik7XG4gICAgc2V0VGltZW91dCgoKSA9PiBtb2RhbFByb2R1Y3QucmVtb3ZlQ2xhc3MoXCItdHJhbnNsYXRlLXktMjAgb3BhY2l0eS0wXCIpLCAzMDApO1xuICB9KTtcbiAgLy8gQ0xPU0UgTU9EQUxcbiAgY2xvc2VNb2RhbFByb2R1Y3Qub24oXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgbW9kYWxQcm9kdWN0LmFkZENsYXNzKFwiLXRyYW5zbGF0ZS15LTIwIG9wYWNpdHktMFwiKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHZpZXdNb2RhbFByb2R1Y3QudG9nZ2xlQ2xhc3MoXCJmbGV4IGhpZGRlblwiKSwgMzAwKTtcbiAgICAkKFwiYm9keSwgaHRtbFwiKS5jc3MoXCJvdmVyZmxvdy15XCIsIFwidmlzaWJsZVwiKTtcbiAgfSk7XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vLy8gR0xPQkFMXG4gICQoZG9jdW1lbnQpLm9uKFwia2V5ZG93blwiLCAoZSkgPT4ge1xuICAgIGlmIChlLmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgY2xvc2VNb2RhbFByb2R1Y3QudHJpZ2dlcihcImNsaWNrXCIpO1xuICAgIH1cbiAgfSk7XG4gIC8vIElGIENMSUNLRUQgT04gV0lORE9XXG4gICQod2luZG93KS5vbihcImNsaWNrXCIsICgpID0+IHtcbiAgICBpZiAoJChkb2N1bWVudCkub3V0ZXJXaWR0aCgpID4gNjQwKSB7XG4gICAgICBzaG9wcGluZ0NhcnQuc2xpZGVVcCgyMDApO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gQUREIFlBRVJcbiAgeWVhci50ZXh0KG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSk7XG59KTtcbiJdfQ==
