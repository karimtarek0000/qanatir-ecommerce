"use strict";

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

$(function () {
  var _this = this;

  // ALL VARIABLES
  var year = $("#year");
  var video = $("#video");
  var playVideo = $("#play-video");
  var coverVideo = $("#cover-video");
  var iconVideo = $("#icon-video");
  var cVwrapper = $("#control-video-wrapper");
  var closeBanar = $("#close-banar");
  var links = $("#links a");
  var navbar = $("#navbar");
  var header = $("#start-scroll-top");
  var heightNavbar = navbar.outerHeight();
  var heightHeader = header.outerHeight();
  var logoL = $("#logo-l img");
  var scrollToTop = $("#scroll-to-top");
  var closeSidebar = $("#close-sidebar");
  var closeSidebarShopCart = $("#close-sidebar-shop-cart");
  var sidebarNav = $("#sidebar-nav");
  var toggler = $("#toggler");
  var backDrop = $(".back-drop");
  var shoppingCart = $("#shopping-cart");
  var iconCart = $("#icon-cart");
  var deleteItemShopping = $(".delete-item");
  var cartEmpty = $("#cart-empty");
  var cartAction = $("#cart-actions");
  var openModalProduct = ".open-modal-product";
  var closeModalProduct = $("#close-modal-product");
  var viewModalProduct = $("#view-modal-product");
  var modalProduct = $("#modal-product");
  var reviewPerParent = $(".review-per-parent");
  var categoryProducts = $("#category-products a");

  //
  $(window).scrollTop(0);

  /////////////////////////////////
  //// CLICK
  // VIDEO - PLAY AND PAUSE
  playVideo.on("click", function () {
    var getAttrIconVideo = iconVideo.attr("xlink:href");
    var srcIcon = getAttrIconVideo.split("#")[0];
    //
    coverVideo.toggleClass("opacity-0");
    cVwrapper.toggleClass("control-hover");

    //
    if (!$(this).hasClass("play")) {
      $(this).addClass("play");
      iconVideo.attr("xlink:href", srcIcon + "#icon-pause");
      video[0].play();
      return;
    }

    //
    $(this).removeClass("play");
    iconVideo.attr("xlink:href", srcIcon + "#icon-play-video");
    video[0].pause();
  });

  // CHANGE ACTIVE CLASS ON LINKS
  links.on("click", function () {
    $(this).addClass("text-como").siblings().removeClass("text-como");
    closeSidebarNav();
  });

  // CLOSE BANAR
  closeBanar.on("click", function () {
    $(this).parent().slideUp();
  });
  // SCROLL TO TOP SMOOTHLY
  scrollToTop.on("click", function () {
    window.scrollTo({
      top: 0,
      left: 0,
      behavior: "smooth"
    });
  });

  /////////////////////////////////
  //// FUNCTIONS
  var _fixedNavbar = function _fixedNavbar() {
    if (!navbar.hasClass("specific")) {
      if ($(_this).scrollTop() > heightNavbar) {
        navbar.removeClass("sm:absolute sm:bg-transparent");
        navbar.addClass("fixed sm:bg-plantation");
        logoL.css("max-height", "50px");
        return;
      }
      navbar.addClass("sm:absolute sm:bg-transparent");
      navbar.removeClass("fixed sm:bg-plantation");
      logoL.css("max-height", "100px");
    }

    //
    if ($(_this).scrollTop() > heightNavbar) {
      navbar.removeClass("sm:bg-transparent sm:text-black");
      navbar.addClass("fixed sm:bg-plantation sm:text-white");
      logoL.css("max-height", "50px");
      return;
    }
    navbar.addClass("sm:bg-transparent sm:text-black");
    navbar.removeClass("fixed sm:bg-plantation sm:text-white");
    logoL.css("max-height", "100px");
  };

  var showBtnScrollToTop = function showBtnScrollToTop() {
    if ($(_this).scrollTop() > heightHeader) {
      scrollToTop.addClass("-translate-y-10");
      scrollToTop.removeClass("translate-y-48");
      return;
    }

    scrollToTop.addClass("translate-y-48");
    scrollToTop.removeClass("-translate-y-10");
  };

  /////////////////////////////////
  //// SLIDERS
  $(".owl-carousel.our-story").owlCarousel({
    items: 1,
    animateOut: "fadeOut",
    autoplay: true,
    autoplayTimeout: 3000,
    autoplayHoverPause: true,
    loop: true,
    nav: false
  });
  //
  $(".owl-carousel.related-products").owlCarousel({
    items: 4,
    lazyLoad: true,
    autoplay: true,
    autoplayTimeout: 5000,
    autoplayHoverPause: true,
    loop: true,
    dots: false,
    nav: true,
    navText: ["<div class='prev-slide'></div>", "<div class='next-slide'></div>"],
    responsive: {
      0: {
        items: 1
      },
      600: {
        items: 2
      },
      1000: {
        items: 3
      },
      1200: {
        items: 4
      }
    }
  });

  function whenDragged() {
    var category = location.href.split("#")[1];
    $("#category-products").find("a[href=\"#" + category + "\"]").addClass("shape-undeline").siblings().removeClass("shape-undeline");
  }

  // TOGGLE SIDEBAR NAV
  function openSidebarNav() {
    sidebarNav.toggleClass("translate-x-0 -translate-x-full");
    backDrop.toggleClass("block hidden");
    $("body, html").css("overflow-y", "hidden");
  }
  function closeSidebarNav() {
    sidebarNav.addClass("translate-x-0 -translate-x-full");
    backDrop.toggleClass("block hidden");
    $("body, html").css("overflow-y", "visible");
  }
  toggler.on("click", function () {
    return openSidebarNav();
  });
  closeSidebar.on("click", function () {
    return closeSidebarNav();
  });

  /////////////////////////////////
  //// SHOPPING CART
  // TOGGLE SHOPPING CART
  iconCart.on("click", function (e) {
    e.stopPropagation();
    if ($(document).outerWidth() > 640) {
      return shoppingCart.slideToggle(200);
    }
    shoppingCart.toggleClass("-translate-x-full sm:hidden");
    backDrop.toggleClass("block hidden");
    $("body, html").css("overflow-y", "hidden");
  });

  // CLOSE SIDEBAR SHOP CART
  closeSidebarShopCart.on("click", function (e) {
    e.stopPropagation();
    shoppingCart.toggleClass("-translate-x-full");
    backDrop.toggleClass("block hidden");
    $("body, html").css("overflow-y", "visible");
  });

  // IF CLICKED ON SHOPPING CART WILL CLOSED
  shoppingCart.on("click", function (e) {
    if ($(document).outerWidth() <= 640) {
      closeSidebarShopCart.trigger("click");
    }
  });

  // DELETE ITEM FROM SHOPPING CART
  deleteItemShopping.on("click", function (e) {
    e.stopPropagation();
    //
    var cartWrapper = $("#cart-wrapper > div").length;

    // 1) - REMOVE ITEM FROM CART
    $(this).parent().remove();

    // 2) - CHECK IF THIS ELEMENT EQIAL 1 WILL ADD MESSAGE EMPTY
    if (cartWrapper === 1) {
      cartEmpty.toggleClass("hidden flex");
      cartAction.toggleClass("hidden");
    }
  });

  /////////////////////////////////
  //// MODAL PRODUCT
  // OPEN MODAL
  $(document).on("click", openModalProduct, function () {
    viewModalProduct.toggleClass("flex hidden");
    $("body, html").css("overflow-y", "hidden");
    setTimeout(function () {
      return modalProduct.removeClass("-translate-y-20 opacity-0");
    }, 300);
  });
  // CLOSE MODAL
  closeModalProduct.on("click", function () {
    modalProduct.addClass("-translate-y-20 opacity-0");
    setTimeout(function () {
      return viewModalProduct.toggleClass("flex hidden");
    }, 300);
    $("body, html").css("overflow-y", "visible");
  });

  /////////////////////////////////
  //// RATING AND REVIEWS
  var settingsRating = {
    totalStars: 5,
    starShape: "rounded",
    emptyColor: "#fefbf2",
    strokeWidth: 40,
    strokeColor: "#777777",
    hoverColor: "salmon",
    activeColor: "#777777",
    useGradient: false,
    readOnly: true
  };
  $(".rating").starRating(_extends({
    starSize: 20
  }, settingsRating));
  $(".rating-review").starRating(_extends({
    starSize: 15
  }, settingsRating));
  // RATINGS REVIEWS
  reviewPerParent.each(function (_, cur) {
    var per = $(cur).children("span:first").attr("data-review-per");
    $(cur).parents(".review").find(".progress").css("width", per + "%");
  });

  /////////////////////////////////
  //// CATEGORY PRODUCTS
  // CHANGE ACTIVE CLASS ON CATEGORY
  categoryProducts.on("click", function () {
    $(this).addClass("shape-undeline").siblings().removeClass("shape-undeline");
  });
  //
  $(".owl-carousel.products").owlCarousel({
    items: 1,
    lazyLoad: true,
    loop: false,
    nav: false,
    dots: false,
    autoplay: false,
    smartSpeed: 200,
    URLhashListener: true,
    autoplayHoverPause: true,
    startPosition: "URLHash",
    onChanged: whenDragged
  });

  /////////////////////////////////
  //// GLOBAL
  $(document).on("keydown", function (e) {
    if (e.key === "Escape") {
      closeModalProduct.trigger("click");
    }
  });
  // IF CLICKED ON WINDOW
  $(window).on("click", function () {
    if ($(document).outerWidth() > 640) {
      shoppingCart.slideUp(200);
    }
  });
  // SCROLL WILL TRIGGER ONE MORE THAN FUNCTION
  $(window).on("scroll", function () {
    //
    _fixedNavbar();
    //
    showBtnScrollToTop();
  });

  // RUN FUNCTIONS
  whenDragged();

  // ADD YAER
  year.text(new Date().getFullYear());
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiJCIsInllYXIiLCJ2aWRlbyIsInBsYXlWaWRlbyIsImNvdmVyVmlkZW8iLCJpY29uVmlkZW8iLCJjVndyYXBwZXIiLCJjbG9zZUJhbmFyIiwibGlua3MiLCJuYXZiYXIiLCJoZWFkZXIiLCJoZWlnaHROYXZiYXIiLCJvdXRlckhlaWdodCIsImhlaWdodEhlYWRlciIsImxvZ29MIiwic2Nyb2xsVG9Ub3AiLCJjbG9zZVNpZGViYXIiLCJjbG9zZVNpZGViYXJTaG9wQ2FydCIsInNpZGViYXJOYXYiLCJ0b2dnbGVyIiwiYmFja0Ryb3AiLCJzaG9wcGluZ0NhcnQiLCJpY29uQ2FydCIsImRlbGV0ZUl0ZW1TaG9wcGluZyIsImNhcnRFbXB0eSIsImNhcnRBY3Rpb24iLCJvcGVuTW9kYWxQcm9kdWN0IiwiY2xvc2VNb2RhbFByb2R1Y3QiLCJ2aWV3TW9kYWxQcm9kdWN0IiwibW9kYWxQcm9kdWN0IiwicmV2aWV3UGVyUGFyZW50IiwiY2F0ZWdvcnlQcm9kdWN0cyIsIndpbmRvdyIsInNjcm9sbFRvcCIsIm9uIiwiZ2V0QXR0ckljb25WaWRlbyIsImF0dHIiLCJzcmNJY29uIiwic3BsaXQiLCJ0b2dnbGVDbGFzcyIsImhhc0NsYXNzIiwiYWRkQ2xhc3MiLCJwbGF5IiwicmVtb3ZlQ2xhc3MiLCJwYXVzZSIsInNpYmxpbmdzIiwiY2xvc2VTaWRlYmFyTmF2IiwicGFyZW50Iiwic2xpZGVVcCIsInNjcm9sbFRvIiwidG9wIiwibGVmdCIsImJlaGF2aW9yIiwiX2ZpeGVkTmF2YmFyIiwiY3NzIiwic2hvd0J0blNjcm9sbFRvVG9wIiwib3dsQ2Fyb3VzZWwiLCJpdGVtcyIsImFuaW1hdGVPdXQiLCJhdXRvcGxheSIsImF1dG9wbGF5VGltZW91dCIsImF1dG9wbGF5SG92ZXJQYXVzZSIsImxvb3AiLCJuYXYiLCJsYXp5TG9hZCIsImRvdHMiLCJuYXZUZXh0IiwicmVzcG9uc2l2ZSIsIndoZW5EcmFnZ2VkIiwiY2F0ZWdvcnkiLCJsb2NhdGlvbiIsImhyZWYiLCJmaW5kIiwib3BlblNpZGViYXJOYXYiLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwiZG9jdW1lbnQiLCJvdXRlcldpZHRoIiwic2xpZGVUb2dnbGUiLCJ0cmlnZ2VyIiwiY2FydFdyYXBwZXIiLCJsZW5ndGgiLCJyZW1vdmUiLCJzZXRUaW1lb3V0Iiwic2V0dGluZ3NSYXRpbmciLCJ0b3RhbFN0YXJzIiwic3RhclNoYXBlIiwiZW1wdHlDb2xvciIsInN0cm9rZVdpZHRoIiwic3Ryb2tlQ29sb3IiLCJob3ZlckNvbG9yIiwiYWN0aXZlQ29sb3IiLCJ1c2VHcmFkaWVudCIsInJlYWRPbmx5Iiwic3RhclJhdGluZyIsInN0YXJTaXplIiwiZWFjaCIsIl8iLCJjdXIiLCJwZXIiLCJjaGlsZHJlbiIsInBhcmVudHMiLCJzbWFydFNwZWVkIiwiVVJMaGFzaExpc3RlbmVyIiwic3RhcnRQb3NpdGlvbiIsIm9uQ2hhbmdlZCIsImtleSIsInRleHQiLCJEYXRlIiwiZ2V0RnVsbFllYXIiXSwibWFwcGluZ3MiOiI7Ozs7QUFBQUEsRUFBRSxZQUFZO0FBQUE7O0FBQ1o7QUFDQSxNQUFNQyxPQUFPRCxFQUFFLE9BQUYsQ0FBYjtBQUNBLE1BQU1FLFFBQVFGLEVBQUUsUUFBRixDQUFkO0FBQ0EsTUFBTUcsWUFBWUgsRUFBRSxhQUFGLENBQWxCO0FBQ0EsTUFBTUksYUFBYUosRUFBRSxjQUFGLENBQW5CO0FBQ0EsTUFBTUssWUFBWUwsRUFBRSxhQUFGLENBQWxCO0FBQ0EsTUFBTU0sWUFBWU4sRUFBRSx3QkFBRixDQUFsQjtBQUNBLE1BQU1PLGFBQWFQLEVBQUUsY0FBRixDQUFuQjtBQUNBLE1BQU1RLFFBQVFSLEVBQUUsVUFBRixDQUFkO0FBQ0EsTUFBTVMsU0FBU1QsRUFBRSxTQUFGLENBQWY7QUFDQSxNQUFNVSxTQUFTVixFQUFFLG1CQUFGLENBQWY7QUFDQSxNQUFNVyxlQUFlRixPQUFPRyxXQUFQLEVBQXJCO0FBQ0EsTUFBTUMsZUFBZUgsT0FBT0UsV0FBUCxFQUFyQjtBQUNBLE1BQU1FLFFB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Q0Q7QUFDRixHQUpEO0FBS0E7QUFDQS9FLElBQUVnQyxNQUFGLEVBQVVFLEVBQVYsQ0FBYSxPQUFiLEVBQXNCLFlBQU07QUFDMUIsUUFBSWxDLEVBQUU0RSxRQUFGLEVBQVlDLFVBQVosS0FBMkIsR0FBL0IsRUFBb0M7QUFDbEN4RCxtQkFBYTJCLE9BQWIsQ0FBcUIsR0FBckI7QUFDRDtBQUNGLEdBSkQ7QUFLQTtBQUNBaEQsSUFBRWdDLE1BQUYsRUFBVUUsRUFBVixDQUFhLFFBQWIsRUFBdUIsWUFBWTtBQUNqQztBQUNBbUI7QUFDQTtBQUNBRTtBQUNELEdBTEQ7O0FBT0E7QUFDQWE7O0FBRUE7QUFDQW5FLE9BQUswRyxJQUFMLENBQVUsSUFBSUMsSUFBSixHQUFXQyxXQUFYLEVBQVY7QUFDRCxDQXZURCIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJChmdW5jdGlvbiAoKSB7XG4gIC8vIEFMTCBWQVJJQUJMRVNcbiAgY29uc3QgeWVhciA9ICQoXCIjeWVhclwiKTtcbiAgY29uc3QgdmlkZW8gPSAkKFwiI3ZpZGVvXCIpO1xuICBjb25zdCBwbGF5VmlkZW8gPSAkKFwiI3BsYXktdmlkZW9cIik7XG4gIGNvbnN0IGNvdmVyVmlkZW8gPSAkKFwiI2NvdmVyLXZpZGVvXCIpO1xuICBjb25zdCBpY29uVmlkZW8gPSAkKFwiI2ljb24tdmlkZW9cIik7XG4gIGNvbnN0IGNWd3JhcHBlciA9ICQoXCIjY29udHJvbC12aWRlby13cmFwcGVyXCIpO1xuICBjb25zdCBjbG9zZUJhbmFyID0gJChcIiNjbG9zZS1iYW5hclwiKTtcbiAgY29uc3QgbGlua3MgPSAkKFwiI2xpbmtzIGFcIik7XG4gIGNvbnN0IG5hdmJhciA9ICQoXCIjbmF2YmFyXCIpO1xuICBjb25zdCBoZWFkZXIgPSAkKFwiI3N0YXJ0LXNjcm9sbC10b3BcIik7XG4gIGNvbnN0IGhlaWdodE5hdmJhciA9IG5hdmJhci5vdXRlckhlaWdodCgpO1xuICBjb25zdCBoZWlnaHRIZWFkZXIgPSBoZWFkZXIub3V0ZXJIZWlnaHQoKTtcbiAgY29uc3QgbG9nb0wgPSAkKFwiI2xvZ28tbCBpbWdcIik7XG4gIGNvbnN0IHNjcm9sbFRvVG9wID0gJChcIiNzY3JvbGwtdG8tdG9wXCIpO1xuICBjb25zdCBjbG9zZVNpZGViYXIgPSAkKFwiI2Nsb3NlLXNpZGViYXJcIik7XG4gIGNvbnN0IGNsb3NlU2lkZWJhclNob3BDYXJ0ID0gJChcIiNjbG9zZS1zaWRlYmFyLXNob3AtY2FydFwiKTtcbiAgY29uc3Qgc2lkZWJhck5hdiA9ICQoXCIjc2lkZWJhci1uYXZcIik7XG4gIGNvbnN0IHRvZ2dsZXIgPSAkKFwiI3RvZ2dsZXJcIik7XG4gIGNvbnN0IGJhY2tEcm9wID0gJChcIi5iYWNrLWRyb3BcIik7XG4gIGNvbnN0IHNob3BwaW5nQ2FydCA9ICQoXCIjc2hvcHBpbmctY2FydFwiKTtcbiAgY29uc3QgaWNvbkNhcnQgPSAkKFwiI2ljb24tY2FydFwiKTtcbiAgY29uc3QgZGVsZXRlSXRlbVNob3BwaW5nID0gJChcIi5kZWxldGUtaXRlbVwiKTtcbiAgY29uc3QgY2FydEVtcHR5ID0gJChcIiNjYXJ0LWVtcHR5XCIpO1xuICBjb25zdCBjYXJ0QWN0aW9uID0gJChcIiNjYXJ0LWFjdGlvbnNcIik7XG4gIGNvbnN0IG9wZW5Nb2RhbFByb2R1Y3QgPSBcIi5vcGVuLW1vZGFsLXByb2R1Y3RcIjtcbiAgY29uc3QgY2xvc2VNb2RhbFByb2R1Y3QgPSAkKFwiI2Nsb3NlLW1vZGFsLXByb2R1Y3RcIik7XG4gIGNvbnN0IHZpZXdNb2RhbFByb2R1Y3QgPSAkKFwiI3ZpZXctbW9kYWwtcHJvZHVjdFwiKTtcbiAgY29uc3QgbW9kYWxQcm9kdWN0ID0gJChcIiNtb2RhbC1wcm9kdWN0XCIpO1xuICBjb25zdCByZXZpZXdQZXJQYXJlbnQgPSAkKFwiLnJldmlldy1wZXItcGFyZW50XCIpO1xuICBjb25zdCBjYXRlZ29yeVByb2R1Y3RzID0gJChcIiNjYXRlZ29yeS1wcm9kdWN0cyBhXCIpO1xuXG4gIC8vXG4gICQod2luZG93KS5zY3JvbGxUb3AoMCk7XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vLy8gQ0xJQ0tcbiAgLy8gVklERU8gLSBQTEFZIEFORCBQQVVTRVxuICBwbGF5VmlkZW8ub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgZ2V0QXR0ckljb25WaWRlbyA9IGljb25WaWRlby5hdHRyKFwieGxpbms6aHJlZlwiKTtcbiAgICBjb25zdCBzcmNJY29uID0gZ2V0QXR0ckljb25WaWRlby5zcGxpdChcIiNcIilbMF07XG4gICAgLy9cbiAgICBjb3ZlclZpZGVvLnRvZ2dsZUNsYXNzKFwib3BhY2l0eS0wXCIpO1xuICAgIGNWd3JhcHBlci50b2dnbGVDbGFzcyhcImNvbnRyb2wtaG92ZXJcIik7XG5cbiAgICAvL1xuICAgIGlmICghJCh0aGlzKS5oYXNDbGFzcyhcInBsYXlcIikpIHtcbiAgICAgICQodGhpcykuYWRkQ2xhc3MoXCJwbGF5XCIpO1xuICAgICAgaWNvblZpZGVvLmF0dHIoXCJ4bGluazpocmVmXCIsIGAke3NyY0ljb259I2ljb24tcGF1c2VgKTtcbiAgICAgIHZpZGVvWzBdLnBsYXkoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvL1xuICAgICQodGhpcykucmVtb3ZlQ2xhc3MoXCJwbGF5XCIpO1xuICAgIGljb25WaWRlby5hdHRyKFwieGxpbms6aHJlZlwiLCBgJHtzcmNJY29ufSNpY29uLXBsYXktdmlkZW9gKTtcbiAgICB2aWRlb1swXS5wYXVzZSgpO1xuICB9KTtcblxuICAvLyBDSEFOR0UgQUNUSVZFIENMQVNTIE9OIExJTktTXG4gIGxpbmtzLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICQodGhpcykuYWRkQ2xhc3MoXCJ0ZXh0LWNvbW9cIikuc2libGluZ3MoKS5yZW1vdmVDbGFzcyhcInRleHQtY29tb1wiKTtcbiAgICBjbG9zZVNpZGViYXJOYXYoKTtcbiAgfSk7XG5cbiAgLy8gQ0xPU0UgQkFOQVJcbiAgY2xvc2VCYW5hci5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAkKHRoaXMpLnBhcmVudCgpLnNsaWRlVXAoKTtcbiAgfSk7XG4gIC8vIFNDUk9MTCBUTyBUT1AgU01PT1RITFlcbiAgc2Nyb2xsVG9Ub3Aub24oXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgd2luZG93LnNjcm9sbFRvKHtcbiAgICAgIHRvcDogMCxcbiAgICAgIGxlZnQ6IDAsXG4gICAgICBiZWhhdmlvcjogXCJzbW9vdGhcIixcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vLy8gRlVOQ1RJT05TXG4gIGNvbnN0IF9maXhlZE5hdmJhciA9ICgpID0+IHtcbiAgICBpZiAoIW5hdmJhci5oYXNDbGFzcyhcInNwZWNpZmljXCIpKSB7XG4gICAgICBpZiAoJCh0aGlzKS5zY3JvbGxUb3AoKSA+IGhlaWdodE5hdmJhcikge1xuICAgICAgICBuYXZiYXIucmVtb3ZlQ2xhc3MoXCJzbTphYnNvbHV0ZSBzbTpiZy10cmFuc3BhcmVudFwiKTtcbiAgICAgICAgbmF2YmFyLmFkZENsYXNzKFwiZml4ZWQgc206YmctcGxhbnRhdGlvblwiKTtcbiAgICAgICAgbG9nb0wuY3NzKFwibWF4LWhlaWdodFwiLCBcIjUwcHhcIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG5hdmJhci5hZGRDbGFzcyhcInNtOmFic29sdXRlIHNtOmJnLXRyYW5zcGFyZW50XCIpO1xuICAgICAgbmF2YmFyLnJlbW92ZUNsYXNzKFwiZml4ZWQgc206YmctcGxhbnRhdGlvblwiKTtcbiAgICAgIGxvZ29MLmNzcyhcIm1heC1oZWlnaHRcIiwgXCIxMDBweFwiKTtcbiAgICB9XG5cbiAgICAvL1xuICAgIGlmICgkKHRoaXMpLnNjcm9sbFRvcCgpID4gaGVpZ2h0TmF2YmFyKSB7XG4gICAgICBuYXZiYXIucmVtb3ZlQ2xhc3MoXCJzbTpiZy10cmFuc3BhcmVudCBzbTp0ZXh0LWJsYWNrXCIpO1xuICAgICAgbmF2YmFyLmFkZENsYXNzKFwiZml4ZWQgc206YmctcGxhbnRhdGlvbiBzbTp0ZXh0LXdoaXRlXCIpO1xuICAgICAgbG9nb0wuY3NzKFwibWF4LWhlaWdodFwiLCBcIjUwcHhcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIG5hdmJhci5hZGRDbGFzcyhcInNtOmJnLXRyYW5zcGFyZW50IHNtOnRleHQtYmxhY2tcIik7XG4gICAgbmF2YmFyLnJlbW92ZUNsYXNzKFwiZml4ZWQgc206YmctcGxhbnRhdGlvbiBzbTp0ZXh0LXdoaXRlXCIpO1xuICAgIGxvZ29MLmNzcyhcIm1heC1oZWlnaHRcIiwgXCIxMDBweFwiKTtcbiAgfTtcblxuICBjb25zdCBzaG93QnRuU2Nyb2xsVG9Ub3AgPSAoKSA9PiB7XG4gICAgaWYgKCQodGhpcykuc2Nyb2xsVG9wKCkgPiBoZWlnaHRIZWFkZXIpIHtcbiAgICAgIHNjcm9sbFRvVG9wLmFkZENsYXNzKFwiLXRyYW5zbGF0ZS15LTEwXCIpO1xuICAgICAgc2Nyb2xsVG9Ub3AucmVtb3ZlQ2xhc3MoXCJ0cmFuc2xhdGUteS00OFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzY3JvbGxUb1RvcC5hZGRDbGFzcyhcInRyYW5zbGF0ZS15LTQ4XCIpO1xuICAgIHNjcm9sbFRvVG9wLnJlbW92ZUNsYXNzKFwiLXRyYW5zbGF0ZS15LTEwXCIpO1xuICB9O1xuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLy8vIFNMSURFUlNcbiAgJChcIi5vd2wtY2Fyb3VzZWwub3VyLXN0b3J5XCIpLm93bENhcm91c2VsKHtcbiAgICBpdGVtczogMSxcbiAgICBhbmltYXRlT3V0OiBcImZhZGVPdXRcIixcbiAgICBhdXRvcGxheTogdHJ1ZSxcbiAgICBhdXRvcGxheVRpbWVvdXQ6IDMwMDAsXG4gICAgYXV0b3BsYXlIb3ZlclBhdXNlOiB0cnVlLFxuICAgIGxvb3A6IHRydWUsXG4gICAgbmF2OiBmYWxzZSxcbiAgfSk7XG4gIC8vXG4gICQoXCIub3dsLWNhcm91c2VsLnJlbGF0ZWQtcHJvZHVjdHNcIikub3dsQ2Fyb3VzZWwoe1xuICAgIGl0ZW1zOiA0LFxuICAgIGxhenlMb2FkOiB0cnVlLFxuICAgIGF1dG9wbGF5OiB0cnVlLFxuICAgIGF1dG9wbGF5VGltZW91dDogNTAwMCxcbiAgICBhdXRvcGxheUhvdmVyUGF1c2U6IHRydWUsXG4gICAgbG9vcDogdHJ1ZSxcbiAgICBkb3RzOiBmYWxzZSxcbiAgICBuYXY6IHRydWUsXG4gICAgbmF2VGV4dDogW1wiPGRpdiBjbGFzcz0ncHJldi1zbGlkZSc+PC9kaXY+XCIsIFwiPGRpdiBjbGFzcz0nbmV4dC1zbGlkZSc+PC9kaXY+XCJdLFxuICAgIHJlc3BvbnNpdmU6IHtcbiAgICAgIDA6IHtcbiAgICAgICAgaXRlbXM6IDEsXG4gICAgICB9LFxuICAgICAgNjAwOiB7XG4gICAgICAgIGl0ZW1zOiAyLFxuICAgICAgfSxcbiAgICAgIDEwMDA6IHtcbiAgICAgICAgaXRlbXM6IDMsXG4gICAgICB9LFxuICAgICAgMTIwMDoge1xuICAgICAgICBpdGVtczogNCxcbiAgICAgIH0sXG4gICAgfSxcbiAgfSk7XG5cbiAgZnVuY3Rpb24gd2hlbkRyYWdnZWQoKSB7XG4gICAgY29uc3QgY2F0ZWdvcnkgPSBsb2NhdGlvbi5ocmVmLnNwbGl0KFwiI1wiKVsxXTtcbiAgICAkKFwiI2NhdGVnb3J5LXByb2R1Y3RzXCIpXG4gICAgICAuZmluZChgYVtocmVmPVwiIyR7Y2F0ZWdvcnl9XCJdYClcbiAgICAgIC5hZGRDbGFzcyhcInNoYXBlLXVuZGVsaW5lXCIpXG4gICAgICAuc2libGluZ3MoKVxuICAgICAgLnJlbW92ZUNsYXNzKFwic2hhcGUtdW5kZWxpbmVcIik7XG4gIH1cblxuICAvLyBUT0dHTEUgU0lERUJBUiBOQVZcbiAgZnVuY3Rpb24gb3BlblNpZGViYXJOYXYoKSB7XG4gICAgc2lkZWJhck5hdi50b2dnbGVDbGFzcyhcInRyYW5zbGF0ZS14LTAgLXRyYW5zbGF0ZS14LWZ1bGxcIik7XG4gICAgYmFja0Ryb3AudG9nZ2xlQ2xhc3MoXCJibG9jayBoaWRkZW5cIik7XG4gICAgJChcImJvZHksIGh0bWxcIikuY3NzKFwib3ZlcmZsb3cteVwiLCBcImhpZGRlblwiKTtcbiAgfVxuICBmdW5jdGlvbiBjbG9zZVNpZGViYXJOYXYoKSB7XG4gICAgc2lkZWJhck5hdi5hZGRDbGFzcyhcInRyYW5zbGF0ZS14LTAgLXRyYW5zbGF0ZS14LWZ1bGxcIik7XG4gICAgYmFja0Ryb3AudG9nZ2xlQ2xhc3MoXCJibG9jayBoaWRkZW5cIik7XG4gICAgJChcImJvZHksIGh0bWxcIikuY3NzKFwib3ZlcmZsb3cteVwiLCBcInZpc2libGVcIik7XG4gIH1cbiAgdG9nZ2xlci5vbihcImNsaWNrXCIsICgpID0+IG9wZW5TaWRlYmFyTmF2KCkpO1xuICBjbG9zZVNpZGViYXIub24oXCJjbGlja1wiLCAoKSA9PiBjbG9zZVNpZGViYXJOYXYoKSk7XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vLy8gU0hPUFBJTkcgQ0FSVFxuICAvLyBUT0dHTEUgU0hPUFBJTkcgQ0FSVFxuICBpY29uQ2FydC5vbihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBpZiAoJChkb2N1bWVudCkub3V0ZXJXaWR0aCgpID4gNjQwKSB7XG4gICAgICByZXR1cm4gc2hvcHBpbmdDYXJ0LnNsaWRlVG9nZ2xlKDIwMCk7XG4gICAgfVxuICAgIHNob3BwaW5nQ2FydC50b2dnbGVDbGFzcyhcIi10cmFuc2xhdGUteC1mdWxsIHNtOmhpZGRlblwiKTtcbiAgICBiYWNrRHJvcC50b2dnbGVDbGFzcyhcImJsb2NrIGhpZGRlblwiKTtcbiAgICAkKFwiYm9keSwgaHRtbFwiKS5jc3MoXCJvdmVyZmxvdy15XCIsIFwiaGlkZGVuXCIpO1xuICB9KTtcblxuICAvLyBDTE9TRSBTSURFQkFSIFNIT1AgQ0FSVFxuICBjbG9zZVNpZGViYXJTaG9wQ2FydC5vbihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBzaG9wcGluZ0NhcnQudG9nZ2xlQ2xhc3MoXCItdHJhbnNsYXRlLXgtZnVsbFwiKTtcbiAgICBiYWNrRHJvcC50b2dnbGVDbGFzcyhcImJsb2NrIGhpZGRlblwiKTtcbiAgICAkKFwiYm9keSwgaHRtbFwiKS5jc3MoXCJvdmVyZmxvdy15XCIsIFwidmlzaWJsZVwiKTtcbiAgfSk7XG5cbiAgLy8gSUYgQ0xJQ0tFRCBPTiBTSE9QUElORyBDQVJUIFdJTEwgQ0xPU0VEXG4gIHNob3BwaW5nQ2FydC5vbihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgaWYgKCQoZG9jdW1lbnQpLm91dGVyV2lkdGgoKSA8PSA2NDApIHtcbiAgICAgIGNsb3NlU2lkZWJhclNob3BDYXJ0LnRyaWdnZXIoXCJjbGlja1wiKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIERFTEVURSBJVEVNIEZST00gU0hPUFBJTkcgQ0FSVFxuICBkZWxldGVJdGVtU2hvcHBpbmcub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgLy9cbiAgICBsZXQgY2FydFdyYXBwZXIgPSAkKFwiI2NhcnQtd3JhcHBlciA+IGRpdlwiKS5sZW5ndGg7XG5cbiAgICAvLyAxKSAtIFJFTU9WRSBJVEVNIEZST00gQ0FSVFxuICAgICQodGhpcykucGFyZW50KCkucmVtb3ZlKCk7XG5cbiAgICAvLyAyKSAtIENIRUNLIElGIFRISVMgRUxFTUVOVCBFUUlBTCAxIFdJTEwgQUREIE1FU1NBR0UgRU1QVFlcbiAgICBpZiAoY2FydFdyYXBwZXIgPT09IDEpIHtcbiAgICAgIGNhcnRFbXB0eS50b2dnbGVDbGFzcyhcImhpZGRlbiBmbGV4XCIpO1xuICAgICAgY2FydEFjdGlvbi50b2dnbGVDbGFzcyhcImhpZGRlblwiKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLy8vIE1PREFMIFBST0RVQ1RcbiAgLy8gT1BFTiBNT0RBTFxuICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIG9wZW5Nb2RhbFByb2R1Y3QsICgpID0+IHtcbiAgICB2aWV3TW9kYWxQcm9kdWN0LnRvZ2dsZUNsYXNzKFwiZmxleCBoaWRkZW5cIik7XG4gICAgJChcImJvZHksIGh0bWxcIikuY3NzKFwib3ZlcmZsb3cteVwiLCBcImhpZGRlblwiKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IG1vZGFsUHJvZHVjdC5yZW1vdmVDbGFzcyhcIi10cmFuc2xhdGUteS0yMCBvcGFjaXR5LTBcIiksIDMwMCk7XG4gIH0pO1xuICAvLyBDTE9TRSBNT0RBTFxuICBjbG9zZU1vZGFsUHJvZHVjdC5vbihcImNsaWNrXCIsICgpID0+IHtcbiAgICBtb2RhbFByb2R1Y3QuYWRkQ2xhc3MoXCItdHJhbnNsYXRlLXktMjAgb3BhY2l0eS0wXCIpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4gdmlld01vZGFsUHJvZHVjdC50b2dnbGVDbGFzcyhcImZsZXggaGlkZGVuXCIpLCAzMDApO1xuICAgICQoXCJib2R5LCBodG1sXCIpLmNzcyhcIm92ZXJmbG93LXlcIiwgXCJ2aXNpYmxlXCIpO1xuICB9KTtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8vLyBSQVRJTkcgQU5EIFJFVklFV1NcbiAgY29uc3Qgc2V0dGluZ3NSYXRpbmcgPSB7XG4gICAgdG90YWxTdGFyczogNSxcbiAgICBzdGFyU2hhcGU6IFwicm91bmRlZFwiLFxuICAgIGVtcHR5Q29sb3I6IFwiI2ZlZmJmMlwiLFxuICAgIHN0cm9rZVdpZHRoOiA0MCxcbiAgICBzdHJva2VDb2xvcjogXCIjNzc3Nzc3XCIsXG4gICAgaG92ZXJDb2xvcjogXCJzYWxtb25cIixcbiAgICBhY3RpdmVDb2xvcjogXCIjNzc3Nzc3XCIsXG4gICAgdXNlR3JhZGllbnQ6IGZhbHNlLFxuICAgIHJlYWRPbmx5OiB0cnVlLFxuICB9O1xuICAkKFwiLnJhdGluZ1wiKS5zdGFyUmF0aW5nKHtcbiAgICBzdGFyU2l6ZTogMjAsXG4gICAgLi4uc2V0dGluZ3NSYXRpbmcsXG4gIH0pO1xuICAkKFwiLnJhdGluZy1yZXZpZXdcIikuc3RhclJhdGluZyh7XG4gICAgc3RhclNpemU6IDE1LFxuICAgIC4uLnNldHRpbmdzUmF0aW5nLFxuICB9KTtcbiAgLy8gUkFUSU5HUyBSRVZJRVdTXG4gIHJldmlld1BlclBhcmVudC5lYWNoKChfLCBjdXIpID0+IHtcbiAgICBjb25zdCBwZXIgPSAkKGN1cikuY2hpbGRyZW4oXCJzcGFuOmZpcnN0XCIpLmF0dHIoXCJkYXRhLXJldmlldy1wZXJcIik7XG4gICAgJChjdXIpLnBhcmVudHMoXCIucmV2aWV3XCIpLmZpbmQoXCIucHJvZ3Jlc3NcIikuY3NzKFwid2lkdGhcIiwgYCR7cGVyfSVgKTtcbiAgfSk7XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vLy8gQ0FURUdPUlkgUFJPRFVDVFNcbiAgLy8gQ0hBTkdFIEFDVElWRSBDTEFTUyBPTiBDQVRFR09SWVxuICBjYXRlZ29yeVByb2R1Y3RzLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICQodGhpcykuYWRkQ2xhc3MoXCJzaGFwZS11bmRlbGluZVwiKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKFwic2hhcGUtdW5kZWxpbmVcIik7XG4gIH0pO1xuICAvL1xuICAkKFwiLm93bC1jYXJvdXNlbC5wcm9kdWN0c1wiKS5vd2xDYXJvdXNlbCh7XG4gICAgaXRlbXM6IDEsXG4gICAgbGF6eUxvYWQ6IHRydWUsXG4gICAgbG9vcDogZmFsc2UsXG4gICAgbmF2OiBmYWxzZSxcbiAgICBkb3RzOiBmYWxzZSxcbiAgICBhdXRvcGxheTogZmFsc2UsXG4gICAgc21hcnRTcGVlZDogMjAwLFxuICAgIFVSTGhhc2hMaXN0ZW5lcjogdHJ1ZSxcbiAgICBhdXRvcGxheUhvdmVyUGF1c2U6IHRydWUsXG4gICAgc3RhcnRQb3NpdGlvbjogXCJVUkxIYXNoXCIsXG4gICAgb25DaGFuZ2VkOiB3aGVuRHJhZ2dlZCxcbiAgfSk7XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vLy8gR0xPQkFMXG4gICQoZG9jdW1lbnQpLm9uKFwia2V5ZG93blwiLCAoZSkgPT4ge1xuICAgIGlmIChlLmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgY2xvc2VNb2RhbFByb2R1Y3QudHJpZ2dlcihcImNsaWNrXCIpO1xuICAgIH1cbiAgfSk7XG4gIC8vIElGIENMSUNLRUQgT04gV0lORE9XXG4gICQod2luZG93KS5vbihcImNsaWNrXCIsICgpID0+IHtcbiAgICBpZiAoJChkb2N1bWVudCkub3V0ZXJXaWR0aCgpID4gNjQwKSB7XG4gICAgICBzaG9wcGluZ0NhcnQuc2xpZGVVcCgyMDApO1xuICAgIH1cbiAgfSk7XG4gIC8vIFNDUk9MTCBXSUxMIFRSSUdHRVIgT05FIE1PUkUgVEhBTiBGVU5DVElPTlxuICAkKHdpbmRvdykub24oXCJzY3JvbGxcIiwgZnVuY3Rpb24gKCkge1xuICAgIC8vXG4gICAgX2ZpeGVkTmF2YmFyKCk7XG4gICAgLy9cbiAgICBzaG93QnRuU2Nyb2xsVG9Ub3AoKTtcbiAgfSk7XG5cbiAgLy8gUlVOIEZVTkNUSU9OU1xuICB3aGVuRHJhZ2dlZCgpO1xuXG4gIC8vIEFERCBZQUVSXG4gIHllYXIudGV4dChuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCkpO1xufSk7XG4iXX0=
