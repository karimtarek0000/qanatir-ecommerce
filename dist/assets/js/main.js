"use strict";

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

$(function () {
  var _this = this;

  // ALL VARIABLES
  var year = $("#year");
  var video = $("#video");
  var playVideo = $("#play-video");
  var coverVideo = $("#cover-video");
  var iconVideo = $("#icon-video");
  var cVwrapper = $("#control-video-wrapper");
  var closeBanar = $("#close-banar");
  var links = $("#links a");
  var navbar = $("#navbar");
  var header = $("#start-scroll-top");
  var heightNavbar = navbar.outerHeight();
  var heightHeader = header.outerHeight();
  var logoL = $("#logo-l img");
  var scrollToTop = $("#scroll-to-top");
  var closeSidebar = $("#close-sidebar");
  var closeSidebarShopCart = $("#close-sidebar-shop-cart");
  var sidebarNav = $("#sidebar-nav");
  var toggler = $("#toggler");
  var backDrop = $(".back-drop");
  var shoppingCart = $("#shopping-cart");
  var iconCart = $("#icon-cart");
  var deleteItemShopping = $(".delete-item");
  var cartEmpty = $("#cart-empty");
  var cartAction = $("#cart-actions");
  var openModalProduct = ".open-modal-product";
  var closeModalProduct = $("#close-modal-product");
  var viewModalProduct = $("#view-modal-product");
  var modalProduct = $("#modal-product");
  var reviewPerParent = $(".review-per-parent");
  var categoryProducts = $("#category-products a");
  var aboutProduct = $("#about-product").outerHeight(true);
  var comments = $("#comments").outerHeight(true);
  var quickViewProduct = $("#quick-view-product");

  //
  $(window).scrollTop(0);
  /////////////////////////////////
  //// WOW
  new WOW().init();
  //
  $(".wow").each(function () {
    var wowHeight = 200;
    $(this).attr("data-wow-offset", wowHeight);
    $(this).attr("data-wow-duration", "2s");
  });

  /////////////////////////////////
  //// CLICK
  // VIDEO - PLAY AND PAUSE
  playVideo.on("click", function () {
    var getAttrIconVideo = iconVideo.attr("xlink:href");
    var srcIcon = getAttrIconVideo.split("#")[0];

    //
    if (!$(this).hasClass("play")) {
      coverVideo.addClass("opacity-0");
      cVwrapper.addClass("control-hover");
      $(this).addClass("play");
      iconVideo.attr("xlink:href", srcIcon + "#icon-pause");
      video[0].play();
      return;
    }
    //
    coverVideo.removeClass("opacity-0");
    cVwrapper.removeClass("control-hover");
    $(this).removeClass("play");
    iconVideo.attr("xlink:href", srcIcon + "#icon-play-video");
    video[0].pause();
  });

  // CHANGE ACTIVE CLASS ON LINKS
  links.on("click", function () {
    $(this).addClass("text-golden").siblings().removeClass("text-golden");
    closeSidebarNav();
  });

  // CLOSE BANAR
  closeBanar.on("click", function () {
    $(this).parent().slideUp();
  });

  // SCROLL TO TOP WHEN CLICKED IN BUTTON SMOOTHLY
  scrollToTop.on("click", function () {
    $("html, body").animate({
      scrollTop: 0
    }, {
      duration: 700
    });
  });

  /////////////////////////////////
  //// FUNCTIONS
  var _fixedNavbar = function _fixedNavbar() {
    if (!navbar.hasClass("specific")) {
      if ($(_this).scrollTop() > heightNavbar) {
        navbar.removeClass("sm:absolute sm:bg-transparent");
        navbar.addClass("fixed sm:bg-plantation");
        logoL.css("max-height", "50px");
        return;
      }
      navbar.addClass("sm:absolute sm:bg-transparent");
      navbar.removeClass("fixed sm:bg-plantation");
      logoL.css("max-height", "100px");
    }

    //
    if ($(_this).scrollTop() > heightNavbar) {
      navbar.removeClass("sm:bg-transparent sm:text-black");
      navbar.addClass("fixed sm:bg-plantation sm:text-white");
      logoL.css("max-height", "50px");
      return;
    }
    navbar.addClass("sm:bg-transparent sm:text-black");
    navbar.removeClass("fixed sm:bg-plantation sm:text-white");
    logoL.css("max-height", "100px");
  };

  var showBtnScrollToTop = function showBtnScrollToTop() {
    if ($(_this).scrollTop() > heightHeader) {
      scrollToTop.addClass("-translate-y-10");
      scrollToTop.removeClass("translate-y-48");
      return;
    }

    scrollToTop.addClass("translate-y-48");
    scrollToTop.removeClass("-translate-y-10");
  };

  /////////////////////////////////
  //// SLIDERS
  $(".owl-carousel.our-story").owlCarousel({
    items: 1,
    animateOut: "fadeOut",
    autoplay: true,
    autoplayTimeout: 3000,
    autoplayHoverPause: true,
    loop: true,
    nav: false
  });
  //
  $(".owl-carousel.related-products").owlCarousel({
    items: 4,
    lazyLoad: true,
    autoplay: true,
    autoplayTimeout: 5000,
    autoplayHoverPause: true,
    loop: true,
    dots: false,
    nav: true,
    navText: ["<div class='prev-slide'></div>", "<div class='next-slide'></div>"],
    responsive: {
      0: {
        items: 1
      },
      600: {
        items: 2
      },
      1000: {
        items: 3
      },
      1200: {
        items: 4
      }
    }
  });

  function whenDragged() {
    var category = location.href.split("#")[1];
    $("#category-products").find("a[href=\"#" + category + "\"]").addClass("shape-undeline").siblings().removeClass("shape-undeline");
  }

  // TOGGLE SIDEBAR NAV
  function openSidebarNav() {
    sidebarNav.toggleClass("translate-x-0 -translate-x-full");
    backDrop.toggleClass("block hidden");
    $("body, html").css("overflow-y", "hidden");
  }
  function closeSidebarNav() {
    sidebarNav.addClass("translate-x-0 -translate-x-full");
    backDrop.toggleClass("block hidden");
    $("body, html").css("overflow-y", "visible");
  }
  toggler.on("click", function () {
    return openSidebarNav();
  });
  closeSidebar.on("click", function () {
    return closeSidebarNav();
  });

  /////////////////////////////////
  //// SHOPPING CART
  // TOGGLE SHOPPING CART
  iconCart.on("click", function (e) {
    e.stopPropagation();
    if ($(document).outerWidth() > 640) {
      return shoppingCart.slideToggle(200);
    }
    shoppingCart.toggleClass("-translate-x-full sm:hidden");
    backDrop.toggleClass("block hidden");
    $("body, html").css("overflow-y", "hidden");
  });

  // CLOSE SIDEBAR SHOP CART
  closeSidebarShopCart.on("click", function (e) {
    e.stopPropagation();
    shoppingCart.toggleClass("-translate-x-full");
    backDrop.toggleClass("block hidden");
    $("body, html").css("overflow-y", "visible");
  });

  // IF CLICKED ON SHOPPING CART WILL CLOSED
  shoppingCart.on("click", function (e) {
    if ($(document).outerWidth() <= 640) {
      closeSidebarShopCart.trigger("click");
    }
  });

  // DELETE ITEM FROM SHOPPING CART
  deleteItemShopping.on("click", function (e) {
    e.stopPropagation();
    //
    var cartWrapper = $("#cart-wrapper > div").length;

    // 1) - REMOVE ITEM FROM CART
    $(this).parent().remove();

    // 2) - CHECK IF THIS ELEMENT EQIAL 1 WILL ADD MESSAGE EMPTY
    if (cartWrapper === 1) {
      cartEmpty.toggleClass("hidden flex");
      cartAction.toggleClass("hidden");
    }
  });

  /////////////////////////////////
  //// MODAL PRODUCT
  // OPEN MODAL
  $(document).on("click", openModalProduct, function (e) {
    e.stopPropagation();
    e.preventDefault();
    viewModalProduct.toggleClass("flex hidden");
    $("body, html").css("overflow-y", "hidden");
    setTimeout(function () {
      return modalProduct.removeClass("-translate-y-20 opacity-0");
    }, 300);
  });
  // CLOSE MODAL
  closeModalProduct.on("click", function () {
    modalProduct.addClass("-translate-y-20 opacity-0");
    setTimeout(function () {
      return viewModalProduct.toggleClass("flex hidden");
    }, 300);
    $("body, html").css("overflow-y", "visible");
  });

  /////////////////////////////////
  //// RATING AND REVIEWS
  var settingsRating = {
    totalStars: 5,
    starShape: "rounded",
    emptyColor: "#fefbf2",
    strokeWidth: 40,
    strokeColor: "#777777",
    hoverColor: "salmon",
    activeColor: "#777777",
    useGradient: false,
    readOnly: true
  };
  $(".rating").starRating(_extends({
    starSize: 20
  }, settingsRating));
  $(".rating-review").starRating(_extends({
    starSize: 15
  }, settingsRating));
  var progressReview = function progressReview() {
    if ($(_this).scrollTop() >= aboutProduct) {
      // RATINGS REVIEWS
      reviewPerParent.each(function (_, cur) {
        var per = $(cur).children("span:first").attr("data-review-per");
        $(cur).parents(".review").find(".progress").css("width", per + "%");
      });
    }
  };

  /////////////////////////////////
  //// QUICK VIEW PRODUCT
  var toggleQuickProduct = function toggleQuickProduct() {
    if ($(_this).scrollTop() >= comments) {
      quickViewProduct.removeClass("translate-y-96");
      quickViewProduct.addClass("translate-y-0");
      return;
    }
    quickViewProduct.addClass("translate-y-96");
    quickViewProduct.removeClass("translate-y-0");
  };

  /////////////////////////////////
  //// CATEGORY PRODUCTS
  // CHANGE ACTIVE CLASS ON CATEGORY
  categoryProducts.on("click", function () {
    $(this).addClass("shape-undeline").siblings().removeClass("shape-undeline");
  });
  //
  $(".owl-carousel.products").owlCarousel({
    items: 1,
    lazyLoad: true,
    loop: false,
    nav: false,
    dots: false,
    autoplay: false,
    smartSpeed: 200,
    URLhashListener: true,
    autoplayHoverPause: true,
    startPosition: "URLHash",
    onChanged: whenDragged
  });

  /////////////////////////////////
  //// GLOBAL
  //
  $(document).on("keydown", function (e) {
    if (e.key === "Escape") {
      closeModalProduct.trigger("click");
    }
  });
  // IF CLICKED ON WINDOW
  $(window).on("click", function () {
    if ($(document).outerWidth() > 640) {
      shoppingCart.slideUp(200);
    }
  });
  // SCROLL WILL TRIGGER ONE MORE THAN FUNCTION
  $(window).on("scroll", function () {
    _fixedNavbar();
    showBtnScrollToTop();
    toggleQuickProduct();
    progressReview();
    // TOGGLE PLAY VIDEO WHEN SCROLL
    $(".video-specific").each(function () {
      var playVideo = $(this).find("#play-video");
      var getAttrIconVideo = iconVideo.attr("xlink:href");
      var srcIcon = getAttrIconVideo.split("#")[0];
      var getHeightAndTop = $(this).outerHeight() + $(this).offset().top;
      //
      if ($(window).scrollTop() >= $(this).offset().top - 50 && $(window).scrollTop() < getHeightAndTop - 200) {
        //
        if (!$(playVideo).hasClass("play")) {
          coverVideo.addClass("opacity-0");
          cVwrapper.addClass("control-hover");
          $(playVideo).addClass("play");
          iconVideo.attr("xlink:href", srcIcon + "#icon-pause");
          video[0].play();
          return;
        }
      }

      if ($(window).scrollTop() < $(this).offset().top - 50 || $(window).scrollTop() >= getHeightAndTop - 200) {
        coverVideo.removeClass("opacity-0");
        cVwrapper.removeClass("control-hover");
        $(playVideo).removeClass("play");
        iconVideo.attr("xlink:href", srcIcon + "#icon-play-video");
        video[0].pause();
        return;
      }
    });
  });

  // RUN FUNCTIONS
  whenDragged();

  // ADD YAER
  year.text(new Date().getFullYear());
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiJCIsInllYXIiLCJ2aWRlbyIsInBsYXlWaWRlbyIsImNvdmVyVmlkZW8iLCJpY29uVmlkZW8iLCJjVndyYXBwZXIiLCJjbG9zZUJhbmFyIiwibGlua3MiLCJuYXZiYXIiLCJoZWFkZXIiLCJoZWlnaHROYXZiYXIiLCJvdXRlckhlaWdodCIsImhlaWdodEhlYWRlciIsImxvZ29MIiwic2Nyb2xsVG9Ub3AiLCJjbG9zZVNpZGViYXIiLCJjbG9zZVNpZGViYXJTaG9wQ2FydCIsInNpZGViYXJOYXYiLCJ0b2dnbGVyIiwiYmFja0Ryb3AiLCJzaG9wcGluZ0NhcnQiLCJpY29uQ2FydCIsImRlbGV0ZUl0ZW1TaG9wcGluZyIsImNhcnRFbXB0eSIsImNhcnRBY3Rpb24iLCJvcGVuTW9kYWxQcm9kdWN0IiwiY2xvc2VNb2RhbFByb2R1Y3QiLCJ2aWV3TW9kYWxQcm9kdWN0IiwibW9kYWxQcm9kdWN0IiwicmV2aWV3UGVyUGFyZW50IiwiY2F0ZWdvcnlQcm9kdWN0cyIsImFib3V0UHJvZHVjdCIsImNvbW1lbnRzIiwicXVpY2tWaWV3UHJvZHVjdCIsIndpbmRvdyIsInNjcm9sbFRvcCIsIldPVyIsImluaXQiLCJlYWNoIiwid293SGVpZ2h0IiwiYXR0ciIsIm9uIiwiZ2V0QXR0ckljb25WaWRlbyIsInNyY0ljb24iLCJzcGxpdCIsImhhc0NsYXNzIiwiYWRkQ2xhc3MiLCJwbGF5IiwicmVtb3ZlQ2xhc3MiLCJwYXVzZSIsInNpYmxpbmdzIiwiY2xvc2VTaWRlYmFyTmF2IiwicGFyZW50Iiwic2xpZGVVcCIsImFuaW1hdGUiLCJkdXJhdGlvbiIsIl9maXhlZE5hdmJhciIsImNzcyIsInNob3dCdG5TY3JvbGxUb1RvcCIsIm93bENhcm91c2VsIiwiaXRlbXMiLCJhbmltYXRlT3V0IiwiYXV0b3BsYXkiLCJhdXRvcGxheVRpbWVvdXQiLCJhdXRvcGxheUhvdmVyUGF1c2UiLCJsb29wIiwibmF2IiwibGF6eUxvYWQiLCJkb3RzIiwibmF2VGV4dCIsInJlc3BvbnNpdmUiLCJ3aGVuRHJhZ2dlZCIsImNhdGVnb3J5IiwibG9jYXRpb24iLCJocmVmIiwiZmluZCIsIm9wZW5TaWRlYmFyTmF2IiwidG9nZ2xlQ2xhc3MiLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwiZG9jdW1lbnQiLCJvdXRlcldpZHRoIiwic2xpZGVUb2dnbGUiLCJ0cmlnZ2VyIiwiY2FydFdyYXBwZXIiLCJsZW5ndGgiLCJyZW1vdmUiLCJwcmV2ZW50RGVmYXVsdCIsInNldFRpbWVvdXQiLCJzZXR0aW5nc1JhdGluZyIsInRvdGFsU3RhcnMiLCJzdGFyU2hhcGUiLCJlbXB0eUNvbG9yIiwic3Ryb2tlV2lkdGgiLCJzdHJva2VDb2xvciIsImhvdmVyQ29sb3IiLCJhY3RpdmVDb2xvciIsInVzZUdyYWRpZW50IiwicmVhZE9ubHkiLCJzdGFyUmF0aW5nIiwic3RhclNpemUiLCJwcm9ncmVzc1JldmlldyIsIl8iLCJjdXIiLCJwZXIiLCJjaGlsZHJlbiIsInBhcmVudHMiLCJ0b2dnbGVRdWlja1Byb2R1Y3QiLCJzbWFydFNwZWVkIiwiVVJMaGFzaExpc3RlbmVyIiwic3RhcnRQb3NpdGlvbiIsIm9uQ2hhbmdlZCIsImtleSIsImdldEhlaWdodEFuZFRvcCIsIm9mZnNldCIsInRvcCIsInRleHQiLCJEYXRlIiwiZ2V0RnVsbFllYXIiXSwibWFwcGluZ3MiOiI7Ozs7QUFBQUEsRUFBRSxZQUFZO0FBQUE7O0FBQ1o7QUFDQSxNQUFNQyxPQUFPRCxFQUFFLE9BQUYsQ0FBYjtBQUNBLE1BQU1FLFFBQVFGLEVBQUUsUUFBRixDQUFkO0FBQ0EsTUFBTUcsWUFBWUgsRUFBRSxhQUFGLENBQWxCO0FBQ0EsTUFBTUksYUFBYUosRUFBRSxjQUFGLENBQW5CO0FBQ0EsTUFBTUssWUFBWUwsRUFBRSxhQUFGLENBQWxCO0FBQ0EsTUFBTU0sWUFBWU4sRUFBRSx3QkFBRixDQUFsQjtBQUNBLE1BQU1PLGFBQWFQLEVBQUUsY0FBRixDQUFuQjtBQUNBLE1BQU1RLFFBQVFSLEVBQUUsVUFBRixDQUFkO0FB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LENBQW9CLFdBQXBCO0FBQ0F6QyxvQkFBVXlDLFFBQVYsQ0FBbUIsZUFBbkI7QUFDQS9DLFlBQUVHLFNBQUYsRUFBYTRDLFFBQWIsQ0FBc0IsTUFBdEI7QUFDQTFDLG9CQUFVb0MsSUFBVixDQUFlLFlBQWYsRUFBZ0NHLE9BQWhDO0FBQ0ExQyxnQkFBTSxDQUFOLEVBQVM4QyxJQUFUO0FBQ0E7QUFDRDtBQUNGOztBQUVELFVBQ0VoRCxFQUFFbUMsTUFBRixFQUFVQyxTQUFWLEtBQXdCcEMsRUFBRSxJQUFGLEVBQVFtSCxNQUFSLEdBQWlCQyxHQUFqQixHQUF1QixFQUEvQyxJQUNBcEgsRUFBRW1DLE1BQUYsRUFBVUMsU0FBVixNQUF5QjhFLGtCQUFrQixHQUY3QyxFQUdFO0FBQ0E5RyxtQkFBVzZDLFdBQVgsQ0FBdUIsV0FBdkI7QUFDQTNDLGtCQUFVMkMsV0FBVixDQUFzQixlQUF0QjtBQUNBakQsVUFBRUcsU0FBRixFQUFhOEMsV0FBYixDQUF5QixNQUF6QjtBQUNBNUMsa0JBQVVvQyxJQUFWLENBQWUsWUFBZixFQUFnQ0csT0FBaEM7QUFDQTFDLGNBQU0sQ0FBTixFQUFTZ0QsS0FBVDtBQUNBO0FBQ0Q7QUFDRixLQWhDRDtBQWlDRCxHQXZDRDs7QUF5Q0E7QUFDQXNCOztBQUVBO0FBQ0F2RSxPQUFLb0gsSUFBTCxDQUFVLElBQUlDLElBQUosR0FBV0MsV0FBWCxFQUFWO0FBQ0QsQ0E1WEQiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZnVuY3Rpb24gKCkge1xuICAvLyBBTEwgVkFSSUFCTEVTXG4gIGNvbnN0IHllYXIgPSAkKFwiI3llYXJcIik7XG4gIGNvbnN0IHZpZGVvID0gJChcIiN2aWRlb1wiKTtcbiAgY29uc3QgcGxheVZpZGVvID0gJChcIiNwbGF5LXZpZGVvXCIpO1xuICBjb25zdCBjb3ZlclZpZGVvID0gJChcIiNjb3Zlci12aWRlb1wiKTtcbiAgY29uc3QgaWNvblZpZGVvID0gJChcIiNpY29uLXZpZGVvXCIpO1xuICBjb25zdCBjVndyYXBwZXIgPSAkKFwiI2NvbnRyb2wtdmlkZW8td3JhcHBlclwiKTtcbiAgY29uc3QgY2xvc2VCYW5hciA9ICQoXCIjY2xvc2UtYmFuYXJcIik7XG4gIGNvbnN0IGxpbmtzID0gJChcIiNsaW5rcyBhXCIpO1xuICBjb25zdCBuYXZiYXIgPSAkKFwiI25hdmJhclwiKTtcbiAgY29uc3QgaGVhZGVyID0gJChcIiNzdGFydC1zY3JvbGwtdG9wXCIpO1xuICBjb25zdCBoZWlnaHROYXZiYXIgPSBuYXZiYXIub3V0ZXJIZWlnaHQoKTtcbiAgY29uc3QgaGVpZ2h0SGVhZGVyID0gaGVhZGVyLm91dGVySGVpZ2h0KCk7XG4gIGNvbnN0IGxvZ29MID0gJChcIiNsb2dvLWwgaW1nXCIpO1xuICBjb25zdCBzY3JvbGxUb1RvcCA9ICQoXCIjc2Nyb2xsLXRvLXRvcFwiKTtcbiAgY29uc3QgY2xvc2VTaWRlYmFyID0gJChcIiNjbG9zZS1zaWRlYmFyXCIpO1xuICBjb25zdCBjbG9zZVNpZGViYXJTaG9wQ2FydCA9ICQoXCIjY2xvc2Utc2lkZWJhci1zaG9wLWNhcnRcIik7XG4gIGNvbnN0IHNpZGViYXJOYXYgPSAkKFwiI3NpZGViYXItbmF2XCIpO1xuICBjb25zdCB0b2dnbGVyID0gJChcIiN0b2dnbGVyXCIpO1xuICBjb25zdCBiYWNrRHJvcCA9ICQoXCIuYmFjay1kcm9wXCIpO1xuICBjb25zdCBzaG9wcGluZ0NhcnQgPSAkKFwiI3Nob3BwaW5nLWNhcnRcIik7XG4gIGNvbnN0IGljb25DYXJ0ID0gJChcIiNpY29uLWNhcnRcIik7XG4gIGNvbnN0IGRlbGV0ZUl0ZW1TaG9wcGluZyA9ICQoXCIuZGVsZXRlLWl0ZW1cIik7XG4gIGNvbnN0IGNhcnRFbXB0eSA9ICQoXCIjY2FydC1lbXB0eVwiKTtcbiAgY29uc3QgY2FydEFjdGlvbiA9ICQoXCIjY2FydC1hY3Rpb25zXCIpO1xuICBjb25zdCBvcGVuTW9kYWxQcm9kdWN0ID0gXCIub3Blbi1tb2RhbC1wcm9kdWN0XCI7XG4gIGNvbnN0IGNsb3NlTW9kYWxQcm9kdWN0ID0gJChcIiNjbG9zZS1tb2RhbC1wcm9kdWN0XCIpO1xuICBjb25zdCB2aWV3TW9kYWxQcm9kdWN0ID0gJChcIiN2aWV3LW1vZGFsLXByb2R1Y3RcIik7XG4gIGNvbnN0IG1vZGFsUHJvZHVjdCA9ICQoXCIjbW9kYWwtcHJvZHVjdFwiKTtcbiAgY29uc3QgcmV2aWV3UGVyUGFyZW50ID0gJChcIi5yZXZpZXctcGVyLXBhcmVudFwiKTtcbiAgY29uc3QgY2F0ZWdvcnlQcm9kdWN0cyA9ICQoXCIjY2F0ZWdvcnktcHJvZHVjdHMgYVwiKTtcbiAgY29uc3QgYWJvdXRQcm9kdWN0ID0gJChcIiNhYm91dC1wcm9kdWN0XCIpLm91dGVySGVpZ2h0KHRydWUpO1xuICBjb25zdCBjb21tZW50cyA9ICQoXCIjY29tbWVudHNcIikub3V0ZXJIZWlnaHQodHJ1ZSk7XG4gIGNvbnN0IHF1aWNrVmlld1Byb2R1Y3QgPSAkKFwiI3F1aWNrLXZpZXctcHJvZHVjdFwiKTtcblxuICAvL1xuICAkKHdpbmRvdykuc2Nyb2xsVG9wKDApO1xuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8vLyBXT1dcbiAgbmV3IFdPVygpLmluaXQoKTtcbiAgLy9cbiAgJChcIi53b3dcIikuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHdvd0hlaWdodCA9IDIwMDtcbiAgICAkKHRoaXMpLmF0dHIoXCJkYXRhLXdvdy1vZmZzZXRcIiwgd293SGVpZ2h0KTtcbiAgICAkKHRoaXMpLmF0dHIoXCJkYXRhLXdvdy1kdXJhdGlvblwiLCBcIjJzXCIpO1xuICB9KTtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8vLyBDTElDS1xuICAvLyBWSURFTyAtIFBMQVkgQU5EIFBBVVNFXG4gIHBsYXlWaWRlby5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBnZXRBdHRySWNvblZpZGVvID0gaWNvblZpZGVvLmF0dHIoXCJ4bGluazpocmVmXCIpO1xuICAgIGNvbnN0IHNyY0ljb24gPSBnZXRBdHRySWNvblZpZGVvLnNwbGl0KFwiI1wiKVswXTtcblxuICAgIC8vXG4gICAgaWYgKCEkKHRoaXMpLmhhc0NsYXNzKFwicGxheVwiKSkge1xuICAgICAgY292ZXJWaWRlby5hZGRDbGFzcyhcIm9wYWNpdHktMFwiKTtcbiAgICAgIGNWd3JhcHBlci5hZGRDbGFzcyhcImNvbnRyb2wtaG92ZXJcIik7XG4gICAgICAkKHRoaXMpLmFkZENsYXNzKFwicGxheVwiKTtcbiAgICAgIGljb25WaWRlby5hdHRyKFwieGxpbms6aHJlZlwiLCBgJHtzcmNJY29ufSNpY29uLXBhdXNlYCk7XG4gICAgICB2aWRlb1swXS5wbGF5KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vXG4gICAgY292ZXJWaWRlby5yZW1vdmVDbGFzcyhcIm9wYWNpdHktMFwiKTtcbiAgICBjVndyYXBwZXIucmVtb3ZlQ2xhc3MoXCJjb250cm9sLWhvdmVyXCIpO1xuICAgICQodGhpcykucmVtb3ZlQ2xhc3MoXCJwbGF5XCIpO1xuICAgIGljb25WaWRlby5hdHRyKFwieGxpbms6aHJlZlwiLCBgJHtzcmNJY29ufSNpY29uLXBsYXktdmlkZW9gKTtcbiAgICB2aWRlb1swXS5wYXVzZSgpO1xuICB9KTtcblxuICAvLyBDSEFOR0UgQUNUSVZFIENMQVNTIE9OIExJTktTXG4gIGxpbmtzLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICQodGhpcykuYWRkQ2xhc3MoXCJ0ZXh0LWdvbGRlblwiKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKFwidGV4dC1nb2xkZW5cIik7XG4gICAgY2xvc2VTaWRlYmFyTmF2KCk7XG4gIH0pO1xuXG4gIC8vIENMT1NFIEJBTkFSXG4gIGNsb3NlQmFuYXIub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgJCh0aGlzKS5wYXJlbnQoKS5zbGlkZVVwKCk7XG4gIH0pO1xuXG4gIC8vIFNDUk9MTCBUTyBUT1AgV0hFTiBDTElDS0VEIElOIEJVVFRPTiBTTU9PVEhMWVxuICBzY3JvbGxUb1RvcC5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAkKFwiaHRtbCwgYm9keVwiKS5hbmltYXRlKFxuICAgICAge1xuICAgICAgICBzY3JvbGxUb3A6IDAsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBkdXJhdGlvbjogNzAwLFxuICAgICAgfVxuICAgICk7XG4gIH0pO1xuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLy8vIEZVTkNUSU9OU1xuICBjb25zdCBfZml4ZWROYXZiYXIgPSAoKSA9PiB7XG4gICAgaWYgKCFuYXZiYXIuaGFzQ2xhc3MoXCJzcGVjaWZpY1wiKSkge1xuICAgICAgaWYgKCQodGhpcykuc2Nyb2xsVG9wKCkgPiBoZWlnaHROYXZiYXIpIHtcbiAgICAgICAgbmF2YmFyLnJlbW92ZUNsYXNzKFwic206YWJzb2x1dGUgc206YmctdHJhbnNwYXJlbnRcIik7XG4gICAgICAgIG5hdmJhci5hZGRDbGFzcyhcImZpeGVkIHNtOmJnLXBsYW50YXRpb25cIik7XG4gICAgICAgIGxvZ29MLmNzcyhcIm1heC1oZWlnaHRcIiwgXCI1MHB4XCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBuYXZiYXIuYWRkQ2xhc3MoXCJzbTphYnNvbHV0ZSBzbTpiZy10cmFuc3BhcmVudFwiKTtcbiAgICAgIG5hdmJhci5yZW1vdmVDbGFzcyhcImZpeGVkIHNtOmJnLXBsYW50YXRpb25cIik7XG4gICAgICBsb2dvTC5jc3MoXCJtYXgtaGVpZ2h0XCIsIFwiMTAwcHhcIik7XG4gICAgfVxuXG4gICAgLy9cbiAgICBpZiAoJCh0aGlzKS5zY3JvbGxUb3AoKSA+IGhlaWdodE5hdmJhcikge1xuICAgICAgbmF2YmFyLnJlbW92ZUNsYXNzKFwic206YmctdHJhbnNwYXJlbnQgc206dGV4dC1ibGFja1wiKTtcbiAgICAgIG5hdmJhci5hZGRDbGFzcyhcImZpeGVkIHNtOmJnLXBsYW50YXRpb24gc206dGV4dC13aGl0ZVwiKTtcbiAgICAgIGxvZ29MLmNzcyhcIm1heC1oZWlnaHRcIiwgXCI1MHB4XCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBuYXZiYXIuYWRkQ2xhc3MoXCJzbTpiZy10cmFuc3BhcmVudCBzbTp0ZXh0LWJsYWNrXCIpO1xuICAgIG5hdmJhci5yZW1vdmVDbGFzcyhcImZpeGVkIHNtOmJnLXBsYW50YXRpb24gc206dGV4dC13aGl0ZVwiKTtcbiAgICBsb2dvTC5jc3MoXCJtYXgtaGVpZ2h0XCIsIFwiMTAwcHhcIik7XG4gIH07XG5cbiAgY29uc3Qgc2hvd0J0blNjcm9sbFRvVG9wID0gKCkgPT4ge1xuICAgIGlmICgkKHRoaXMpLnNjcm9sbFRvcCgpID4gaGVpZ2h0SGVhZGVyKSB7XG4gICAgICBzY3JvbGxUb1RvcC5hZGRDbGFzcyhcIi10cmFuc2xhdGUteS0xMFwiKTtcbiAgICAgIHNjcm9sbFRvVG9wLnJlbW92ZUNsYXNzKFwidHJhbnNsYXRlLXktNDhcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2Nyb2xsVG9Ub3AuYWRkQ2xhc3MoXCJ0cmFuc2xhdGUteS00OFwiKTtcbiAgICBzY3JvbGxUb1RvcC5yZW1vdmVDbGFzcyhcIi10cmFuc2xhdGUteS0xMFwiKTtcbiAgfTtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8vLyBTTElERVJTXG4gICQoXCIub3dsLWNhcm91c2VsLm91ci1zdG9yeVwiKS5vd2xDYXJvdXNlbCh7XG4gICAgaXRlbXM6IDEsXG4gICAgYW5pbWF0ZU91dDogXCJmYWRlT3V0XCIsXG4gICAgYXV0b3BsYXk6IHRydWUsXG4gICAgYXV0b3BsYXlUaW1lb3V0OiAzMDAwLFxuICAgIGF1dG9wbGF5SG92ZXJQYXVzZTogdHJ1ZSxcbiAgICBsb29wOiB0cnVlLFxuICAgIG5hdjogZmFsc2UsXG4gIH0pO1xuICAvL1xuICAkKFwiLm93bC1jYXJvdXNlbC5yZWxhdGVkLXByb2R1Y3RzXCIpLm93bENhcm91c2VsKHtcbiAgICBpdGVtczogNCxcbiAgICBsYXp5TG9hZDogdHJ1ZSxcbiAgICBhdXRvcGxheTogdHJ1ZSxcbiAgICBhdXRvcGxheVRpbWVvdXQ6IDUwMDAsXG4gICAgYXV0b3BsYXlIb3ZlclBhdXNlOiB0cnVlLFxuICAgIGxvb3A6IHRydWUsXG4gICAgZG90czogZmFsc2UsXG4gICAgbmF2OiB0cnVlLFxuICAgIG5hdlRleHQ6IFtcIjxkaXYgY2xhc3M9J3ByZXYtc2xpZGUnPjwvZGl2PlwiLCBcIjxkaXYgY2xhc3M9J25leHQtc2xpZGUnPjwvZGl2PlwiXSxcbiAgICByZXNwb25zaXZlOiB7XG4gICAgICAwOiB7XG4gICAgICAgIGl0ZW1zOiAxLFxuICAgICAgfSxcbiAgICAgIDYwMDoge1xuICAgICAgICBpdGVtczogMixcbiAgICAgIH0sXG4gICAgICAxMDAwOiB7XG4gICAgICAgIGl0ZW1zOiAzLFxuICAgICAgfSxcbiAgICAgIDEyMDA6IHtcbiAgICAgICAgaXRlbXM6IDQsXG4gICAgICB9LFxuICAgIH0sXG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHdoZW5EcmFnZ2VkKCkge1xuICAgIGNvbnN0IGNhdGVnb3J5ID0gbG9jYXRpb24uaHJlZi5zcGxpdChcIiNcIilbMV07XG4gICAgJChcIiNjYXRlZ29yeS1wcm9kdWN0c1wiKVxuICAgICAgLmZpbmQoYGFbaHJlZj1cIiMke2NhdGVnb3J5fVwiXWApXG4gICAgICAuYWRkQ2xhc3MoXCJzaGFwZS11bmRlbGluZVwiKVxuICAgICAgLnNpYmxpbmdzKClcbiAgICAgIC5yZW1vdmVDbGFzcyhcInNoYXBlLXVuZGVsaW5lXCIpO1xuICB9XG5cbiAgLy8gVE9HR0xFIFNJREVCQVIgTkFWXG4gIGZ1bmN0aW9uIG9wZW5TaWRlYmFyTmF2KCkge1xuICAgIHNpZGViYXJOYXYudG9nZ2xlQ2xhc3MoXCJ0cmFuc2xhdGUteC0wIC10cmFuc2xhdGUteC1mdWxsXCIpO1xuICAgIGJhY2tEcm9wLnRvZ2dsZUNsYXNzKFwiYmxvY2sgaGlkZGVuXCIpO1xuICAgICQoXCJib2R5LCBodG1sXCIpLmNzcyhcIm92ZXJmbG93LXlcIiwgXCJoaWRkZW5cIik7XG4gIH1cbiAgZnVuY3Rpb24gY2xvc2VTaWRlYmFyTmF2KCkge1xuICAgIHNpZGViYXJOYXYuYWRkQ2xhc3MoXCJ0cmFuc2xhdGUteC0wIC10cmFuc2xhdGUteC1mdWxsXCIpO1xuICAgIGJhY2tEcm9wLnRvZ2dsZUNsYXNzKFwiYmxvY2sgaGlkZGVuXCIpO1xuICAgICQoXCJib2R5LCBodG1sXCIpLmNzcyhcIm92ZXJmbG93LXlcIiwgXCJ2aXNpYmxlXCIpO1xuICB9XG4gIHRvZ2dsZXIub24oXCJjbGlja1wiLCAoKSA9PiBvcGVuU2lkZWJhck5hdigpKTtcbiAgY2xvc2VTaWRlYmFyLm9uKFwiY2xpY2tcIiwgKCkgPT4gY2xvc2VTaWRlYmFyTmF2KCkpO1xuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLy8vIFNIT1BQSU5HIENBUlRcbiAgLy8gVE9HR0xFIFNIT1BQSU5HIENBUlRcbiAgaWNvbkNhcnQub24oXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgaWYgKCQoZG9jdW1lbnQpLm91dGVyV2lkdGgoKSA+IDY0MCkge1xuICAgICAgcmV0dXJuIHNob3BwaW5nQ2FydC5zbGlkZVRvZ2dsZSgyMDApO1xuICAgIH1cbiAgICBzaG9wcGluZ0NhcnQudG9nZ2xlQ2xhc3MoXCItdHJhbnNsYXRlLXgtZnVsbCBzbTpoaWRkZW5cIik7XG4gICAgYmFja0Ryb3AudG9nZ2xlQ2xhc3MoXCJibG9jayBoaWRkZW5cIik7XG4gICAgJChcImJvZHksIGh0bWxcIikuY3NzKFwib3ZlcmZsb3cteVwiLCBcImhpZGRlblwiKTtcbiAgfSk7XG5cbiAgLy8gQ0xPU0UgU0lERUJBUiBTSE9QIENBUlRcbiAgY2xvc2VTaWRlYmFyU2hvcENhcnQub24oXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgc2hvcHBpbmdDYXJ0LnRvZ2dsZUNsYXNzKFwiLXRyYW5zbGF0ZS14LWZ1bGxcIik7XG4gICAgYmFja0Ryb3AudG9nZ2xlQ2xhc3MoXCJibG9jayBoaWRkZW5cIik7XG4gICAgJChcImJvZHksIGh0bWxcIikuY3NzKFwib3ZlcmZsb3cteVwiLCBcInZpc2libGVcIik7XG4gIH0pO1xuXG4gIC8vIElGIENMSUNLRUQgT04gU0hPUFBJTkcgQ0FSVCBXSUxMIENMT1NFRFxuICBzaG9wcGluZ0NhcnQub24oXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgIGlmICgkKGRvY3VtZW50KS5vdXRlcldpZHRoKCkgPD0gNjQwKSB7XG4gICAgICBjbG9zZVNpZGViYXJTaG9wQ2FydC50cmlnZ2VyKFwiY2xpY2tcIik7XG4gICAgfVxuICB9KTtcblxuICAvLyBERUxFVEUgSVRFTSBGUk9NIFNIT1BQSU5HIENBUlRcbiAgZGVsZXRlSXRlbVNob3BwaW5nLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIC8vXG4gICAgbGV0IGNhcnRXcmFwcGVyID0gJChcIiNjYXJ0LXdyYXBwZXIgPiBkaXZcIikubGVuZ3RoO1xuXG4gICAgLy8gMSkgLSBSRU1PVkUgSVRFTSBGUk9NIENBUlRcbiAgICAkKHRoaXMpLnBhcmVudCgpLnJlbW92ZSgpO1xuXG4gICAgLy8gMikgLSBDSEVDSyBJRiBUSElTIEVMRU1FTlQgRVFJQUwgMSBXSUxMIEFERCBNRVNTQUdFIEVNUFRZXG4gICAgaWYgKGNhcnRXcmFwcGVyID09PSAxKSB7XG4gICAgICBjYXJ0RW1wdHkudG9nZ2xlQ2xhc3MoXCJoaWRkZW4gZmxleFwiKTtcbiAgICAgIGNhcnRBY3Rpb24udG9nZ2xlQ2xhc3MoXCJoaWRkZW5cIik7XG4gICAgfVxuICB9KTtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8vLyBNT0RBTCBQUk9EVUNUXG4gIC8vIE9QRU4gTU9EQUxcbiAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCBvcGVuTW9kYWxQcm9kdWN0LCAoZSkgPT4ge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHZpZXdNb2RhbFByb2R1Y3QudG9nZ2xlQ2xhc3MoXCJmbGV4IGhpZGRlblwiKTtcbiAgICAkKFwiYm9keSwgaHRtbFwiKS5jc3MoXCJvdmVyZmxvdy15XCIsIFwiaGlkZGVuXCIpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4gbW9kYWxQcm9kdWN0LnJlbW92ZUNsYXNzKFwiLXRyYW5zbGF0ZS15LTIwIG9wYWNpdHktMFwiKSwgMzAwKTtcbiAgfSk7XG4gIC8vIENMT1NFIE1PREFMXG4gIGNsb3NlTW9kYWxQcm9kdWN0Lm9uKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIG1vZGFsUHJvZHVjdC5hZGRDbGFzcyhcIi10cmFuc2xhdGUteS0yMCBvcGFjaXR5LTBcIik7XG4gICAgc2V0VGltZW91dCgoKSA9PiB2aWV3TW9kYWxQcm9kdWN0LnRvZ2dsZUNsYXNzKFwiZmxleCBoaWRkZW5cIiksIDMwMCk7XG4gICAgJChcImJvZHksIGh0bWxcIikuY3NzKFwib3ZlcmZsb3cteVwiLCBcInZpc2libGVcIik7XG4gIH0pO1xuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLy8vIFJBVElORyBBTkQgUkVWSUVXU1xuICBjb25zdCBzZXR0aW5nc1JhdGluZyA9IHtcbiAgICB0b3RhbFN0YXJzOiA1LFxuICAgIHN0YXJTaGFwZTogXCJyb3VuZGVkXCIsXG4gICAgZW1wdHlDb2xvcjogXCIjZmVmYmYyXCIsXG4gICAgc3Ryb2tlV2lkdGg6IDQwLFxuICAgIHN0cm9rZUNvbG9yOiBcIiM3Nzc3NzdcIixcbiAgICBob3ZlckNvbG9yOiBcInNhbG1vblwiLFxuICAgIGFjdGl2ZUNvbG9yOiBcIiM3Nzc3NzdcIixcbiAgICB1c2VHcmFkaWVudDogZmFsc2UsXG4gICAgcmVhZE9ubHk6IHRydWUsXG4gIH07XG4gICQoXCIucmF0aW5nXCIpLnN0YXJSYXRpbmcoe1xuICAgIHN0YXJTaXplOiAyMCxcbiAgICAuLi5zZXR0aW5nc1JhdGluZyxcbiAgfSk7XG4gICQoXCIucmF0aW5nLXJldmlld1wiKS5zdGFyUmF0aW5nKHtcbiAgICBzdGFyU2l6ZTogMTUsXG4gICAgLi4uc2V0dGluZ3NSYXRpbmcsXG4gIH0pO1xuICBjb25zdCBwcm9ncmVzc1JldmlldyA9ICgpID0+IHtcbiAgICBpZiAoJCh0aGlzKS5zY3JvbGxUb3AoKSA+PSBhYm91dFByb2R1Y3QpIHtcbiAgICAgIC8vIFJBVElOR1MgUkVWSUVXU1xuICAgICAgcmV2aWV3UGVyUGFyZW50LmVhY2goKF8sIGN1cikgPT4ge1xuICAgICAgICBjb25zdCBwZXIgPSAkKGN1cikuY2hpbGRyZW4oXCJzcGFuOmZpcnN0XCIpLmF0dHIoXCJkYXRhLXJldmlldy1wZXJcIik7XG4gICAgICAgICQoY3VyKS5wYXJlbnRzKFwiLnJldmlld1wiKS5maW5kKFwiLnByb2dyZXNzXCIpLmNzcyhcIndpZHRoXCIsIGAke3Blcn0lYCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vLy8gUVVJQ0sgVklFVyBQUk9EVUNUXG4gIGNvbnN0IHRvZ2dsZVF1aWNrUHJvZHVjdCA9ICgpID0+IHtcbiAgICBpZiAoJCh0aGlzKS5zY3JvbGxUb3AoKSA+PSBjb21tZW50cykge1xuICAgICAgcXVpY2tWaWV3UHJvZHVjdC5yZW1vdmVDbGFzcyhcInRyYW5zbGF0ZS15LTk2XCIpO1xuICAgICAgcXVpY2tWaWV3UHJvZHVjdC5hZGRDbGFzcyhcInRyYW5zbGF0ZS15LTBcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHF1aWNrVmlld1Byb2R1Y3QuYWRkQ2xhc3MoXCJ0cmFuc2xhdGUteS05NlwiKTtcbiAgICBxdWlja1ZpZXdQcm9kdWN0LnJlbW92ZUNsYXNzKFwidHJhbnNsYXRlLXktMFwiKTtcbiAgfTtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8vLyBDQVRFR09SWSBQUk9EVUNUU1xuICAvLyBDSEFOR0UgQUNUSVZFIENMQVNTIE9OIENBVEVHT1JZXG4gIGNhdGVnb3J5UHJvZHVjdHMub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgJCh0aGlzKS5hZGRDbGFzcyhcInNoYXBlLXVuZGVsaW5lXCIpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoXCJzaGFwZS11bmRlbGluZVwiKTtcbiAgfSk7XG4gIC8vXG4gICQoXCIub3dsLWNhcm91c2VsLnByb2R1Y3RzXCIpLm93bENhcm91c2VsKHtcbiAgICBpdGVtczogMSxcbiAgICBsYXp5TG9hZDogdHJ1ZSxcbiAgICBsb29wOiBmYWxzZSxcbiAgICBuYXY6IGZhbHNlLFxuICAgIGRvdHM6IGZhbHNlLFxuICAgIGF1dG9wbGF5OiBmYWxzZSxcbiAgICBzbWFydFNwZWVkOiAyMDAsXG4gICAgVVJMaGFzaExpc3RlbmVyOiB0cnVlLFxuICAgIGF1dG9wbGF5SG92ZXJQYXVzZTogdHJ1ZSxcbiAgICBzdGFydFBvc2l0aW9uOiBcIlVSTEhhc2hcIixcbiAgICBvbkNoYW5nZWQ6IHdoZW5EcmFnZ2VkLFxuICB9KTtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8vLyBHTE9CQUxcbiAgLy9cbiAgJChkb2N1bWVudCkub24oXCJrZXlkb3duXCIsIChlKSA9PiB7XG4gICAgaWYgKGUua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICBjbG9zZU1vZGFsUHJvZHVjdC50cmlnZ2VyKFwiY2xpY2tcIik7XG4gICAgfVxuICB9KTtcbiAgLy8gSUYgQ0xJQ0tFRCBPTiBXSU5ET1dcbiAgJCh3aW5kb3cpLm9uKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIGlmICgkKGRvY3VtZW50KS5vdXRlcldpZHRoKCkgPiA2NDApIHtcbiAgICAgIHNob3BwaW5nQ2FydC5zbGlkZVVwKDIwMCk7XG4gICAgfVxuICB9KTtcbiAgLy8gU0NST0xMIFdJTEwgVFJJR0dFUiBPTkUgTU9SRSBUSEFOIEZVTkNUSU9OXG4gICQod2luZG93KS5vbihcInNjcm9sbFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgX2ZpeGVkTmF2YmFyKCk7XG4gICAgc2hvd0J0blNjcm9sbFRvVG9wKCk7XG4gICAgdG9nZ2xlUXVpY2tQcm9kdWN0KCk7XG4gICAgcHJvZ3Jlc3NSZXZpZXcoKTtcbiAgICAvLyBUT0dHTEUgUExBWSBWSURFTyBXSEVOIFNDUk9MTFxuICAgICQoXCIudmlkZW8tc3BlY2lmaWNcIikuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCBwbGF5VmlkZW8gPSAkKHRoaXMpLmZpbmQoXCIjcGxheS12aWRlb1wiKTtcbiAgICAgIGNvbnN0IGdldEF0dHJJY29uVmlkZW8gPSBpY29uVmlkZW8uYXR0cihcInhsaW5rOmhyZWZcIik7XG4gICAgICBjb25zdCBzcmNJY29uID0gZ2V0QXR0ckljb25WaWRlby5zcGxpdChcIiNcIilbMF07XG4gICAgICBjb25zdCBnZXRIZWlnaHRBbmRUb3AgPSAkKHRoaXMpLm91dGVySGVpZ2h0KCkgKyAkKHRoaXMpLm9mZnNldCgpLnRvcDtcbiAgICAgIC8vXG4gICAgICBpZiAoXG4gICAgICAgICQod2luZG93KS5zY3JvbGxUb3AoKSA+PSAkKHRoaXMpLm9mZnNldCgpLnRvcCAtIDUwICYmXG4gICAgICAgICQod2luZG93KS5zY3JvbGxUb3AoKSA8IGdldEhlaWdodEFuZFRvcCAtIDIwMFxuICAgICAgKSB7XG4gICAgICAgIC8vXG4gICAgICAgIGlmICghJChwbGF5VmlkZW8pLmhhc0NsYXNzKFwicGxheVwiKSkge1xuICAgICAgICAgIGNvdmVyVmlkZW8uYWRkQ2xhc3MoXCJvcGFjaXR5LTBcIik7XG4gICAgICAgICAgY1Z3cmFwcGVyLmFkZENsYXNzKFwiY29udHJvbC1ob3ZlclwiKTtcbiAgICAgICAgICAkKHBsYXlWaWRlbykuYWRkQ2xhc3MoXCJwbGF5XCIpO1xuICAgICAgICAgIGljb25WaWRlby5hdHRyKFwieGxpbms6aHJlZlwiLCBgJHtzcmNJY29ufSNpY29uLXBhdXNlYCk7XG4gICAgICAgICAgdmlkZW9bMF0ucGxheSgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoXG4gICAgICAgICQod2luZG93KS5zY3JvbGxUb3AoKSA8ICQodGhpcykub2Zmc2V0KCkudG9wIC0gNTAgfHxcbiAgICAgICAgJCh3aW5kb3cpLnNjcm9sbFRvcCgpID49IGdldEhlaWdodEFuZFRvcCAtIDIwMFxuICAgICAgKSB7XG4gICAgICAgIGNvdmVyVmlkZW8ucmVtb3ZlQ2xhc3MoXCJvcGFjaXR5LTBcIik7XG4gICAgICAgIGNWd3JhcHBlci5yZW1vdmVDbGFzcyhcImNvbnRyb2wtaG92ZXJcIik7XG4gICAgICAgICQocGxheVZpZGVvKS5yZW1vdmVDbGFzcyhcInBsYXlcIik7XG4gICAgICAgIGljb25WaWRlby5hdHRyKFwieGxpbms6aHJlZlwiLCBgJHtzcmNJY29ufSNpY29uLXBsYXktdmlkZW9gKTtcbiAgICAgICAgdmlkZW9bMF0ucGF1c2UoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICAvLyBSVU4gRlVOQ1RJT05TXG4gIHdoZW5EcmFnZ2VkKCk7XG5cbiAgLy8gQUREIFlBRVJcbiAgeWVhci50ZXh0KG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSk7XG59KTtcbiJdfQ==
